(self.modernJsonp=self.modernJsonp||[]).push([["88507"],{610269:function(e,t,n){n.d(t,{Z:()=>a});var o=n(312048),i=n(219162),l=n(739405);function a(){let e=(0,o.s0)(),t=(0,l.HG)();return n=>{t?(0,i.Z)(n,{disableOriginCheck:!0}):e(n)}}},938598:function(e,t,n){n.d(t,{Z:()=>o});let o=(e,t)=>{let n=new Date;return new Date(1e3*e)<=new Date(n.getFullYear()-(t||18),n.getMonth(),n.getDate())}},260397:function(e,t,n){n.d(t,{Z:()=>a});var o=n(686659),i=n(667294),l=n(785893);let a=({size:e=56})=>((0,i.useEffect)(()=>{(0,o.Z)("Google","/app/packages/gestalt-custom-svg/dynamicSVGs/Google.tsx")},[]),(0,l.jsxs)("svg",{display:"block",fill:"none",fillRule:"evenodd",height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,l.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,l.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,l.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,l.jsx)("path",{d:"M20 20h472v472H20V20z"})]}))},740431:function(e,t,n){n.d(t,{Z:()=>i});var o=n(785893);let i=(0,o.jsx)("svg",{height:"40px",version:"1.1",viewBox:"0 0 40 40",width:"40px",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:(0,o.jsx)("path",{d:"M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z",fill:"#FFFFFF",fillRule:"nonzero",id:"ï£¿"})})})},253542:function(e,t,n){n.d(t,{Di:()=>a,E2:()=>c,Eh:()=>d,Jl:()=>o,R:()=>i,aU:()=>s,iu:()=>r,j2:()=>l,pN:()=>u});let o=1e4,i="permanent_account_closure",l="account_deletion_email_sent",a="account_deactivated",s="unlink_successful",r="lba_deprecation_personal_convert_account_message",c="lba_deprecation_business_convert_account_message",u="account_switch_to_settings",d="lba_deprecation_delete_account"},444382:function(e,t,n){n.d(t,{Z:()=>o});let o={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9,QR_CODE:10,OTP:11,PHONE_NUMBER:12}},928400:function(e,t,n){n.d(t,{Z:()=>p});var o=n(966502),i=n(4533),l=n(470967),a=n(34550),s=n(336320),r=n(247387),c=n(900946),u=n(341687);let d="undefined"!=typeof window,_=d?`${window.location.origin}/oauth/line/redirect`:"";function p(e,t){let n;if(!d)return void t.error?.({message:"Window is undefined"});let p=(0,s.Z)(10),g=async e=>{if(!e.isTrusted)return;let s=e instanceof MessageEvent?(({origin:e,data:t})=>t&&e===window.location.origin?String(t):null)(e):(({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==i.MM)return null;let n=(0,a.M0)().getItem(i.MM);return(0,a.M0)().removeItem(i.MM),n})(e),r=(0,u.Z)(s);if(r.state&&r.code&&r.state===p){t.fetching?.(),n&&!n.closed&&n.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(l.U2(o.fS))}`},method:"POST",body:(0,c.Z)({code:r.code,redirect_uri:_})}),{id_token:n,access_token:i}=await e.json();n&&i?t.success({line_id_token:n,line_access_token:i}):t.error?.({message:"No tokens returned"})}catch(e){t.error?.(e)}finally{n&&!n.closed&&n.close(),window.removeEventListener("message",g),window.removeEventListener("storage",g),t.complete?.()}}};window.addEventListener("message",g),window.addEventListener("storage",g),n=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${r.zal}&redirect_uri=${encodeURIComponent(_)}&state=${p}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},380261:function(e,t,n){n.d(t,{Z:()=>o});let o=e=>JSON.parse(decodeURIComponent(atob((e.split(".")[1]||"").replace(/-/g,"+").replace(/_/g,"/")).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},550759:function(e,t,n){n.d(t,{Z:()=>r});var o=n(686659),i=n(667294),l=n(391995),a=n(24246),s=n(785893);let r=({isInModal:e})=>{(0,i.useEffect)(()=>{(0,o.Z)("FullPageSpinner","/app/www/FullPageSpinner.tsx")},[]);let t=(0,a.Z)();return(0,s.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),children:(0,s.jsx)(l.xH,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},878243:function(e,t,n){n.d(t,{Z:()=>m});var o=n(686659),i=n(667294),l=n(312048),a=n(230201),s=n(746868),r=n(774838),c=n(935833),u=n(736328),d=n(136142),_=n(874288),p=n(148387),g=n(767415),h=n(785893);function m({children:e,componentType:t,app_upsell_type:n,isShown:m=!0}){(0,i.useEffect)(()=>{(0,o.Z)("AppUpsellController","/app/www/appupsell/AppUpsellController.tsx")},[]);let b=(0,l.TH)(),{flushContextEvents:x,logContextEvent:f}=(0,a.u)(),{viewType:w,viewParameter:y}=(0,s.SU)(),v=(0,u.Z)(),{userAgent:{platform:j}}=(0,r.B)();(0,i.useEffect)(()=>{v({action:"view",item:"download-button",within:n})},[b,n,v]);let k=(0,i.useRef)(!1);(0,i.useEffect)(()=>{m&&w&&202!==w?(f({component:t||13106,element:10308,event_type:9976,view_type:w,view_parameter:y,aux_data:{app_upsell_type:n,app_upsell_is_dupe:k.current}}),k.current=!0):(0,g.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:w,view_parameter:y,app_upsell_type:n,app_upsell_is_dupe:k.current}})},[w,y,t,n,f,m]);let Z=(0,_.Z)();return(0,i.useEffect)(()=>{Z||(0,c.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[Z,n]),(0,h.jsx)(p.Z,{children:o=>e({handleOpenApp:e=>{v({action:"click",item:"download-button",within:n}),(0,c.NC)("press_open_app",!0),f({component:t||13106,element:10308,event_type:102,view_type:w||202,view_parameter:y,aux_data:{app_upsell_type:n}}),f({component:t||13106,element:10308,event_type:9977,view_type:w||202,view_parameter:y,aux_data:{app_upsell_type:n}}),x(),o&&(f({component:t||13106,element:10308,event_type:1701,view_type:w||202,view_parameter:y,aux_data:{app_upsell_type:n}}),o(e?.deepLinkUri??(0,d.Z)(b,"android"===j),n))}})})}},378291:function(e,t,n){n.d(t,{Z:()=>l});var o=n(167336),i=n(935833);async function l(e){let t=await (0,o.Kw)(),n=t?{user_ids:Object.keys(t)}:{};(0,i.tj)(`mweb_multiple_accounts_${e}`,n)}},908056:function(e,t,n){n.d(t,{kB:()=>p,eN:()=>_,_:()=>g});var o=n(247387),i=n(646108),l=n(483635),a=n(426775),s=n(99737),r=n(43861),c=n(312048);let u=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"];var d=n(767415);let _=e=>e&&(0,a.Z)(e)&&o.lfe!==e?(0,s.Z)(e).relative:"/",p=(e,t)=>{let n=(0,i.Z)(e);return((e,t)=>{let n=new URL(e,t);return u.some(e=>!!(0,c.LX)({path:e,end:!0},n.pathname))})(n,t)||(0,l.Z)(n)===r.Z.TRUSTED_DIFFERENT_ORIGIN},g=({checkExperiment:e,forceFullPageNavigation:t,isPartner:n,navigate:o,next:l,noLocationReplace:a,origin:s})=>{let r=(0,i.Z)(l);if(p(l,s)||!o||t)t&&(0,d.nP)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(r);else{let t=_(r),i="/"===t&&!n&&e?.("mweb_res_user_nudge_to_home").anyEnabled?"/search/":t;a?o(_(i)):o(_(i),{replace:!0})}}},675015:function(e,t,n){n.d(t,{Z:()=>o});function o(e){return e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null}},592094:function(e,t,n){n.d(t,{Z:()=>u});var o=n(686659),i=n(667294),l=n(391995),a=n(465784),s=n(24246),r=n(935833),c=n(785893);function u({onDismiss:e}){(0,i.useEffect)(()=>{(0,o.Z)("LoginRateLimitedModal","/app/www/login/duplo/LoginRateLimitedModal.tsx")},[]);let t=(0,s.Z)();(0,i.useEffect)(()=>{(0,r.My)("unauth_mweb.login_rate_limited.view")},[]);let n=t._('Oops! Too many login attempts', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times');return(0,c.jsxs)(a.ZP,{accessibilityModalLabel:n,heading:(0,c.jsxs)(l.xu,{"data-test-id":"login-rate-limited-header",children:[(0,c.jsx)(l.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,c.jsx)(l.JO,{accessibilityLabel:t._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon'),color:"primary",icon:"pinterest",size:40})}),(0,c.jsx)(l.qd,{accessibilityLevel:1,align:"center",size:"600",children:n})]}),isOpen:!0,onDismiss:e,children:[(0,c.jsx)(l.xu,{"data-test-id":"login-rate-limited-text",marginBottom:8,marginTop:4,paddingX:12,children:(0,c.jsx)(l.xv,{align:"center",children:t._('You have reached the maximum number of login attempts. Try again in 30 minutes.', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times')})}),(0,c.jsx)(l.xu,{"data-test-id":"login-rate-limited-footer",marginBottom:8,paddingX:12,children:(0,c.jsx)(l.zx,{color:"primary",fullWidth:!0,onClick:e,text:t._('Okay', 'LoginRateLimitedModal.Modal.OkButton', 'Okay button used to close modal')})})]})}},209388:function(e,t,n){n.d(t,{Z:()=>h});var o=n(667294),i=n(391995),l=n(496102),a=n(59111);let s={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},r="DelightfulBubbles__",c=[`${r}fadeIn {
  to {
    opacity: 1;
  }
}
`,`${r}growShrink {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1);
  }
  100% {
    transform: scale(0);
  }
}
`,`${r}swirl {
  0% {
    transform: rotate(0deg) translateX(-50%);
  }
  100% {
    transform: rotate(-360deg) translateX(-50%);
  }
}
`,...(()=>{let e=Object.keys(s);return e.map(t=>{let n=((e,t)=>{let n=e.length,o=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[o]})(e,t);return`${r}colorChange_${t} {
      0% {
        background-color: ${s[t]};
      }
      50% {
        background-color: ${s[n]};
      }
    }
    `})})()],u=(0,l.Ll)(c);var d=n(785893);function _(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p=e=>{let{delay:t,diameter:n,height:o,initialColor:l,width:a,xOffset:c,yOffset:u}=e,_=Math.floor(n/2),p={bubblePositionStyles:{position:"absolute",marginLeft:`${a/2-_}px`,marginTop:`${o/2-_}px`,left:`${c}px`,top:`${u}px`},bubbleSwirlStyles:{animation:`${r}swirl 6s ease-in-out ${t}s infinite forwards`,WebkitAnimation:`${r}swirl 6s ease-in-out ${t}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${r}growShrink 6s ease-in-out ${t}s infinite alternate`,WebkitAnimation:`${r}growShrink 6s ease-in-out ${t}s infinite alternate`},bubbleShapeStyles:{height:`${n}px`,width:`${n}px`,borderRadius:"50%",backgroundColor:s[l],opacity:0,animation:`${r}colorChange_${l} 12s steps(1, start) ${t}s infinite forwards,
      ${r}fadeIn 3s linear ${t}s 1 forwards`,WebkitAnimation:`${r}colorChange_${l} 12s steps(1, start) ${t}s infinite forwards,
      ${r}fadeIn 3s linear ${t}s 1 forwards`}};return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p.bubblePositionStyles},children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p.bubbleSwirlStyles},children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p.bubbleGrowShrinkStyles},children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:p.bubbleShapeStyles}})})})})};class g extends o.Component{constructor(...e){super(...e),_(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return e.numBubbles!==this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){let{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){let{delayFactor:n,delayOffset:o,numBubbles:i,xRadiusAdjustment:a,yRadiusAdjustment:r}=this.props,c=e+2*r,u=t+2*a,_=[],g=Object.keys(s);for(let a=0;a<i;a+=1){let i=16+(0,l.XF)(-4,4),s=g[a%g.length],{x:r,y:h}=(0,l.CC)(c,u);_.push((0,d.jsx)(p,{delay:a*n+o,diameter:i,height:e,initialColor:s,width:t,xOffset:r,yOffset:h},a))}return _}render(){let{isDesktop:e}=this.props,{height:t,width:n}=this.getSize();return(0,d.jsxs)(i.xu,{height:t,position:"relative",width:n,children:[(0,d.jsx)(a.Z,{unsafeCSS:u}),(0,d.jsxs)(i.xu,{ref:e=>{this.containerElement=e},position:e?void 0:"absolute",children:[this.state.isInitialized&&this.createBubbles(t||0,n||0),(0,d.jsx)(i.xu,{position:"relative",children:this.props.children})]})]})}}_(g,"defaultProps",{numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});let h=g},70442:function(e,t,n){n.d(t,{Z:()=>g});var o=n(686659),i=n(667294),l=n(391995),a=n(132602),s=n(59355),r=n(24246),c=n(774838),u=n(550759),d=n(209388),_=n(229678),p=n(785893);function g({isReducedHeader:e,progressBarAnimationDuration:t,showConsistentSteps:n}){(0,i.useEffect)(()=>{(0,o.Z)("WelcomeScreen","/app/www/nux/WelcomeScreen.tsx")},[]);let g=(0,r.Z)(),{country:h}=(0,c.B)(),m=(0,_.Z)(h);return(0,p.jsx)(i.Fragment,{children:m?(0,p.jsx)(s.Z,{log:{view_type:10,view_parameter:259},children:(0,p.jsxs)(l.xu,{bottom:!0,color:"default",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,p.jsx)(a.Z,{color:"washDark",duration:t||3e3,finalProgress:95}),(0,p.jsxs)(l.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,p.jsxs)(l.xu,{"data-test-id":"account-creation-heading",margin:10*!n,marginStart:4*!!n,marginTop:16*!!n,children:[(0,p.jsx)(l.qd,{overflow:"normal",size:e||n?"600":"700",children:g._('Your account is being created!', 'account created heading', 'account created heading')}),(0,p.jsx)(l.xu,{marginTop:+!!n,children:(0,p.jsx)(l.xv,{overflow:"normal",children:g._('You can now save ideas, get personalized recommendations, and more', 'loading state description while waiting for any sign up registration to complete', 'loading state description while waiting for any sign up registration to complete')})})]}),(0,p.jsx)(l.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,p.jsx)(d.Z,{delayOffset:-5,isDesktop:!1,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,p.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#e2e2e2"}},direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,p.jsx)(l.JO,{accessibilityLabel:g._('Loading', 'Loading state for any sign up registration', 'Loading state for any sign up registration'),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,p.jsx)(u.Z,{})})}},229678:function(e,t,n){n.d(t,{Z:()=>i});var o=n(899681);let i=e=>new Set([...o.EU,...o.rT,...o.IO]).has(e)},440890:function(e,t,n){n.d(t,{f:()=>I,l:()=>M});var o=n(667294),i=n(581722),l=n(966502),a=n(27399),s=n(4533),r=n(104999),c=n(470967),u=n(97092),d=n(127078),_=n(22991),p=n(991166),g=n(384696),h=n(990898),m=n(253542),b=n(637539),x=n(501010),f=n(552764),w=n(450717),y=n(774838),v=n(748025),j=n(34550),k=n(935833),Z=n(11908),P=n(363815),C=n(378291),A=n(908056),E=n(278277),S=n(99672),z=n(178355),L=n(767415);let T=e=>({type:"AUTHENTICATE_USER",payload:{user:e}}),I=()=>{let e=(0,r.Z)(),t=(0,x.Z)(),n=(0,i.I0)(),{country:I,countryFromHostName:M,countryFromIp:B,regionFromIp:O,userAgent:{isTablet:R,isMobile:D}}=(0,y.B)(),$=(0,f.Z)(),F=(0,Z.Z)(),N=(0,h.Z)(),U=(0,d.EJ)();return(0,o.useCallback)(async(o,i,r="/",d={isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1,component:"unspecified",container:"unspecified_container"},h)=>{$();let x=!R&&!D,{isAutologin:f,isSwitchAccount:y,noLocationReplace:Z,recaptchaV3Token:H,noImmediateRedirect:G,useAlternativeResourceCall:W,trigger:K,accountUnlinked:X,fingerprintData:Y,component:J,container:q}=d;(0,j.M0)().setItem(s.V6,(0,b.nY)(o));let V=t=>{e({...h,event_type:t,aux_data:{...h.aux_data,upsell_reason:h.aux_data?.upsell_reason||(f?"autologin":(0,j.M0)().getItem(s.bg)),upsell_view_count:(0,j.M0)().getItem(s.w0)??0}}),7536===t&&(0,j.M0)().setItem(s.w0,0)},Q={get_user:!0,...o,app_type_from_client:x?5:6,recaptchaV3Token:H,fingerprintData:Y,autologin:f,ui_component:`${q}.${J}`,handler:(0,z.H)()},ee=JSON.stringify(U)||"";ee&&(Q={...Q,visited_pages_before_login:ee});let et=(0,E.O)();if(et&&(Q={...Q,referrer:et}),await (0,g.Lq)({fingerprintData:Y,source:p.Ef.LOGIN,logContextEvent:e}))return Promise.reject({isArkoseChallengeRequired:!0});Q=(0,g.NW)(Q);let en=a.Z.create("UserSessionResource",Q).callCreate();if(!t.checkExperiment("identity_deprecate_alternative_resource").anyEnabled&&W&&o.username_or_email&&o.password){let e=new FormData;e.append("username",o.username_or_email),e.append("password",o.password),H&&e.append("recaptchaV3Token",H),Y?.current&&(Y.current.sardineSessionKey&&e.append("sardineSessionKey",Y.current.sardineSessionKey),Y.current.arkoseSessionToken&&e.append("arkoseSessionToken",Y.current.arkoseSessionToken)),en=fetch("/resource/UserSessionResource/create/",{method:"POST",body:e,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,u._V)()||"","X-Requested-With":"XMLHttpRequest","X-Pinterest-PWS-Handler":(0,z.H)()||""}}).then(e=>{if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(e=>((0,k.dy)({event:"login_api_call_failure",provider:"email"}),Promise.reject(e)))}try{f?(0,k.dy)({event:"login_api_call_start",provider:o.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_start",provider:(0,b.nY)(o)}),V(7534),F({action:f?"autologin":"login",event:"attempt",type:(0,b.lp)(o),trigger:K});let e=await en;f?(0,k.dy)({event:"login_api_call_success",provider:o.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_success",provider:(0,b.nY)(o)}),n(T(e.resource_response.data.user));let a=e.client_context,u=e.resource_response.data.user.gatekeeper_experiments;if(u){let{active:e,triggerable:n}=u;e&&n||(0,L.nP)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!e),triggerable:String(!!n)}}),t.updateExperiments(e,n)}else(0,L.nP)("webapp.authentication.updateExperimentsFailed");a&&a.placed_experiences&&n((0,_.OD)(a.placed_experiences)),(0,C.Z)("authentication.login_success"),b.ZP.storeLoginCredentialsToBrowser(o),V(7536),F({action:f?"autologin":"login",event:"success",type:(0,b.lp)(o),trigger:K}),N(),c.zN(l.e7.name),c.zN(l.x3.name),(0,j.M0)().setItem(s.xs,1),"/"!==r&&(0,S.E)(!0),y?(0,v.Z)().then(()=>{let t=`/${e.resource_response.data?.user.username||""}`+(X?`?message=${m.aU}`:"");window.location.href=t}):f&&!x||G||(!o.google_open_id_token&&x&&t.checkExperiment("dweb_arr_modal_post_fb_login").anyEnabled&&(0,P.I9)(),(0,A._)({checkExperiment:t.checkExperiment,forceFullPageNavigation:x,navigate:i,next:r,noLocationReplace:Z,origin:window.location.toString()})),"facebook"===(0,b.nY)(o)&&!x&&t.checkExperiment("mweb_arr_modal_post_fb_login").anyEnabled&&(0,P.I9)(),(0,w.Z)({country:I,countryFromHostName:M,countryFromIp:B,regionFromIp:O,deviceType:"Mobile",eventCategory:"Logins"})}catch(e){if(f?(0,k.dy)({event:"login_api_call_failure",provider:o.google_open_id_token?"google":"facebook"}):(0,k.EX)({event:"login_api_call_failure",provider:(0,b.nY)(o)}),1201!==e.api_error_code||f||x)throw V(7535),F({action:f?"autologin":"login",event:"fail",type:(0,b.lp)(o),trigger:K}),y&&(0,C.Z)("authentication.login_error"),e;i&&i("/login/mfa/",{state:{creds:o,next:r,phoneNumber:e?.data?.phone_number_end}})}},[n,I,M,B,$,t,D,R,e,O,F,N,U])},M=()=>{let e=(0,x.Z)(),t=(0,i.I0)(),n=(0,f.Z)();return({client_context:o,resource_response:i})=>{let{data:l}=i;l&&(n(),t(T(l.user)));let a=l.user.gatekeeper_experiments;if(a){let{active:t,triggerable:n}=a;t&&n||(0,L.nP)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,L.nP)("webapp.crossDomainAutologin.updateExperimentsFailed");o&&t((0,_.OD)(o.placed_experiences))}}},363146:function(e,t,n){n.d(t,{m:()=>L});var o=n(581722),i=n(966502),l=n(27399),a=n(4533),s=n(11442),r=n(104999),c=n(470967),u=n(127078),d=n(236269),_=n(22991),p=n(991166),g=n(384696),h=n(990898),m=n(228842),b=n(424868),x=n(919492),f=n(501010),w=n(552764),y=n(450717),v=n(774838),j=n(748025),k=n(34550),Z=n(935833),P=n(11908),C=n(144690),A=n(378291),E=n(278277),S=n(229678),z=n(767415);let L=()=>{let e=(0,f.Z)(),t=(0,o.I0)(),{country:n,countryFromHostName:L,countryFromIp:T,regionFromIp:I,isAuthenticated:M}=(0,v.B)(),B=(0,w.Z)(),O=(0,r.Z)(),R=(0,P.Z)(),{isRequirementEnabled:D}=(0,C.vI)(),$=(0,h.Z)(),F=(0,u.EJ)();return(o,{signupAttemptContextEvent:r})=>{let u=(0,x.yV)(o),h=(0,k.M0)(),f=e=>{O({...r,event_type:e,aux_data:{...r.aux_data,upsell_reason:r.aux_data?.upsell_reason||h.getItem(a.bg)||null,upsell_view_count:h.getItem(a.w0)||0}}),7487===e&&h.setItem(a.w0,0)};f(7537),R({action:"signup",event:"attempt",type:u}),B();let w=0,v=(0,S.Z)(n),P=new Promise(e=>{v?setTimeout(()=>{e(void 0)},3e3):e(void 0)});return new Promise((a,r)=>{let h=async()=>{let v=JSON.stringify(F)||"",k=(0,E.O)(),C={...o,user_behavior_data:JSON.stringify({}),visited_pages:v},S=(0,m.Z)({isComplianceFeatureRequired:D,viewType:10});return(S.length>0&&(C={...C,privacy_disclaimer_acknowledge:S}),k&&(C={...C,referrer:k}),(0,z.nP)("webapp.debug_signup_type.redux_registration",{sampleRate:1,tags:{CHECK_TYPE:(0,x.Eh)(C,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,x.Eh)(C,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,x.Eh)(C,"DEPRECATED_CHECK_TRUTHY")}}),"email"===u&&await (0,g.Lq)({fingerprintData:C.fingerprintData,source:p.Ef.SIGNUP,logContextEvent:O}))?r({isArkoseChallengeRequired:!0}):(C=(0,g.NW)(C),l.Z.create("UserRegisterResource",{...C,get_user:!0}).callCreate().then(i=>P.then(()=>{let l=i.client_context;t({type:"REGISTER_USER",payload:{user:i.resource_response.data.user}});let r=i.resource_response.data.user.gatekeeper_experiments;if(r){let{active:t,triggerable:n}=r;t&&n||(0,z.nP)("webapp.registration.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!t),triggerable:String(!!n)}}),e.updateExperiments(t,n)}else(0,z.nP)("webapp.registration.updateExperimentsFailed");l&&l.placed_experiences&&t((0,_.OD)(l.placed_experiences)),M&&(0,A.Z)("registration.signup_success");let{email:c,username:d,password:p}=o,g=c||d||null,h=p||null,{credentials:m}=navigator;if(m&&g&&h)try{let e=new window.PasswordCredential({id:g,password:h});(0,Z.My)("unauth_mweb.navigatorCredentials.store.attempt"),m.store(e).then(()=>{(0,Z.My)("unauth_mweb.navigatorCredentials.store.success")})}catch(e){(0,Z.My)("unauth_mweb.navigatorCredentials.store.error")}f(7487),R({action:"signup",event:"success",type:u}),(0,s.Z)(),$({isRegister:!0}),M&&(0,j.Z)(),(0,y.Z)({country:n,countryFromHostName:L,countryFromIp:T,regionFromIp:I,deviceType:"Mobile",eventCategory:"NewUsers"}),a()})).catch(e=>{let t=(0,d.Z)(e,"api_error_code");t===b.tz&&((0,Z.My)("multi_step_set_age_restrict_cookie"),c.t8(i.It,"1",(0,c.kZ)(i.It))),w<3&&[b.dO,b.cZ].includes(t??0)?(w+=1,h()):(f(7488),R({action:"signup",event:"fail",type:u}),M&&(0,A.Z)("registration.signup_error"),r(e))}))};h()})}}},516832:function(e,t,n){n.d(t,{Z:()=>c});var o=n(686659),i=n(667294),l=n(391995),a=n(465784),s=n(24246),r=n(785893);function c({type:e,onDismiss:t}){(0,i.useEffect)(()=>{(0,o.Z)("SocialAuthDisabledModal","/app/www/settings/duplo/SocialAuthDisabledModal.tsx")},[]);let n=(0,s.Z)(),c="facebook"===e?n._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):n._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),u="facebook"===e?n._(`Looks like Facebook isn't available right now.

Give another option a try or refresh the page and try again later.`, 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):n._(`Looks like Google isn't available right now.

Give another option a try or refresh the page and try again later.`, 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,r.jsx)(a.ZP,{accessibilityModalLabel:"",isOpen:!0,mobileHideCloseIcon:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,r.jsxs)(l.xu,{padding:5,children:[(0,r.jsx)(l.xu,{marginBottom:3,children:(0,r.jsx)(l.qd,{accessibilityLevel:1,size:"600",children:c})}),(0,r.jsx)(l.xu,{marginBottom:3,children:(0,r.jsx)(l.xv,{children:u})}),(0,r.jsx)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,r.jsx)(l.xu,{paddingY:1,children:(0,r.jsx)(l.zx,{accessibilityLabel:n._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),color:"primary",onClick:t,size:"lg",text:n._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working')})})})]})})}},157765:function(e,t,n){n.d(t,{Z:()=>ei});var o=n(686659),i=n(667294),l=n(581722),a=n(312048),s=n(391995),r=n(15881),c=n(610269),u=n(104999),d=n(938598),_=n(236269),p=n(924591),g=n(935059),h=n(24246),m=n(424868),b=n(413220),x=n(919492),f=n(444382),w=n(501010),y=n(774838),v=n(418282),j=n(935833),k=n(736328),Z=n(481889),P=n(577356),C=n(550759),A=n(4533),E=n(505633),S=n(740431),z=n(34550),L=n(675015),T=n(440890),I=n(785893);let M="id_token=";function B({container:e}){(0,i.useEffect)(()=>{(0,o.Z)("AppleConnectButton","/app/www/login/duplo/AppleConnectButton.tsx")},[]);let t=(0,h.Z)(),n=(0,a.TH)(),l=(0,T.f)(),r=(0,a.s0)(),{showToast:c}=(0,P.dI)(),[u,d]=(0,i.useState)(!1),_=(0,k.Z)(),g=n.hash.indexOf(M),m=g>=0?n.hash.substring(g+M.length):null,b=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let o=async o=>{(0,j.My)("in_app_oauth.login.siwa.returned_with_token"),d(!0),l({apple_token:o},r,n.pathname,{noImmediateRedirect:!0,component:B.name,container:e},{event_type:7534,view_type:10}).then(()=>{d(!1),(0,j.My)("in_app_oauth.login.siwa.login_success");let e=(0,z.M0)().getItem(A.TB);(0,z.M0)().removeItem(A.TB),(0,E.Z)(e||"/")}).catch(()=>{d(!1),(0,j.My)("in_app_oauth.login.siwa.login_failure"),c(({hideToast:e})=>(0,I.jsx)(p.Z,{onHide:e,text:t._('Oops! You do not have an account connected with Apple. Please try another method.', 'mweb.unauth.oauth_apple_login.login_failure_toast', 'Toast to alert user they failed to login with Apple'),type:"error"}))})};b.current!==m&&m&&o(m),b.current=m},[r,t,m,n,l,c,e]),u?(0,I.jsx)(s.xH,{accessibilityLabel:t._('Loading...', 'Loading', 'Loading'),show:!0}):(0,I.jsx)(s.iP,{onTap:()=>{_({action:"click",item:"apple-connect-button"});let e=n.state?.next||(0,L.Z)(n),t=e?decodeURIComponent(e):null;(0,z.M0)().setItem(A.TB,t),(0,E.Z)(`https://appleid.apple.com/auth/authorize?client_id=com.pinterest.signinwithapple&redirect_uri=${encodeURIComponent(window.location.origin.toString()+"/oauth/login")}&response_type=${encodeURIComponent("code id_token")}&response_mode=fragment`)},children:(0,I.jsxs)(s.xu,{alignItems:"center",color:"washDark",display:"flex",height:40,paddingX:2,paddingY:1,rounding:"pill",width:"100%",children:[(0,I.jsx)(s.xu,{marginStart:-3,marginTop:-2,children:S.Z}),(0,I.jsx)(s.xu,{marginEnd:"auto",marginStart:"auto",children:(0,I.jsx)(s.xe,{color:"light",weight:"bold",children:t._('Continue with Apple', 'mweb.unauth.oauth_apple_login.login_button', 'Text on button allowing users to login with their Apple account')})})]})})}var O=n(928400);function R(e){(0,i.useEffect)(()=>{(0,o.Z)("LineConnectButton","/app/www/login/duplo/LineConnectButton.tsx")},[]);let t=(0,h.Z)(),{locale:n}=(0,y.B)();return(0,I.jsx)(s.iP,{fullWidth:!0,onTap:()=>{e.onTouch(),(0,O.Z)(n,{success:t=>"line_id_token"in t?e.onConnectSuccess(t,{...t,type:"line"}):null,error:e.onConnectError})},children:(0,I.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#00C300"}},"data-test-id":"LineConnectContainer",height:40,paddingX:3,rounding:"pill",children:(0,I.jsxs)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,I.jsx)(s.xu,{height:32,width:32,children:(0,I.jsx)(s.Ee,{alt:t._('line', 'accessible label for line icon', 'accessible label for line icon'),naturalHeight:32,naturalWidth:32,src:"https://s.pinimg.com/webapp/btn_base-c86c43dd.png"})}),(0,I.jsx)(s.xe,{color:"light",size:"300",weight:"bold",children:t._('Continue with LINE', 'Login page button', 'Login page button')})]})})})}var D=n(592094),$=n(380261),F=n(408660),N=n(78521),U=n(260397),H=n(663952),G=n(516832);function W(){(0,i.useEffect)(()=>{(0,o.Z)("MobileGoogleConnectButtonWithDisabledSDK","/app/www/login/duplo/MobileGoogleConnectButtonWithDisabledSDK.tsx")},[]);let e=(0,h.Z)(),[t,n]=(0,i.useState)();return(0,H.q)()?null:(0,I.jsxs)(s.xu,{position:"relative",children:[(0,I.jsx)(s.iP,{onTap:()=>n(!0),children:(0,I.jsxs)(s.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",position:"relative",rounding:"pill",children:[(0,I.jsx)(s.xu,{height:24,marginTop:1,width:24,children:(0,I.jsx)(U.Z,{size:20})}),(0,I.jsx)(s.xu,{marginStart:2,children:(0,I.jsx)(s.xe,{weight:"bold",children:e._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),t&&(0,I.jsx)(G.Z,{onDismiss:()=>n(!1),type:"google"})]})}function K({onGoogleConnectSuccess:e,onTouch:t}){let{locale:n}=(0,y.B)(),o=(0,i.useRef)(null),l=(0,N.l)(),a=(0,i.useRef)(e),r=(0,k.Z)();return(0,i.useEffect)(()=>{a.current=e},[e]),(0,i.useEffect)(()=>{let e=({credential:e,select_by:t})=>{(0,j.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,j.NC)("press_google_connect_button");let n=(0,$.Z)(e);a.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:n.given_name,last_name:n.family_name,image_url:n.picture})};return(async()=>{await l?.ensureInit("button",e),(0,F.ru)({buttonRef:o,isDesktop:!1,locale:n,onTouch:t})})(),()=>{l?.removeButtonCallback(e)}},[l,n]),(0,I.jsx)(s.xu,{position:"relative",children:(0,I.jsx)(s.iP,{onTap:()=>{r({action:"click",item:"google-connect-button"}),(0,j.EX)({event:"start",provider:"google"})},children:(0,I.jsx)(s.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,I.jsx)(s.xu,{ref:o,width:"100%"})})})})}function X({onGoogleConnectSuccess:e,onTouch:t}){(0,i.useEffect)(()=>{(0,o.Z)("MobileGoogleConnectButton","/app/www/login/duplo/MobileGoogleConnectButton.tsx")},[]);let{checkExperiment:n}=(0,w.Z)(),{anyEnabled:l}=n("mweb_google_disabled");return l?(0,I.jsx)(W,{}):(0,I.jsx)(K,{onGoogleConnectSuccess:e,onTouch:t})}var Y=n(893957);function J({onTap:e}){(0,i.useEffect)(()=>{(0,o.Z)("MobileMagicLinkLoginButton","/app/www/login/duplo/MobileMagicLinkLoginButton.tsx")},[]);let t=(0,h.Z)(),{trackConversionUpsell:n}=(0,Z.Z)();return(0,Y.Z)(()=>{(0,j.My)("mweb.magic_link_login_button.view")}),(0,I.jsx)(s.iP,{accessibilityHaspopup:!0,accessibilityLabel:"Magic link login button",onTap:()=>{n({eventType:14689,element:12956}),(0,j.My)("mweb.magic_link_login_button.click"),e()},children:(0,I.jsxs)(s.xu,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",color:"default",display:"flex",height:36,marginBottom:2,padding:4,position:"relative",rounding:300,width:"100%",children:[(0,I.jsx)(s.JO,{accessibilityLabel:t._('Email icon', 'mobileLoginForm.magicLinkButtonIcon.accessibilityLabel', 'Accessibility label for email icon on magic link button'),color:"default",icon:"gmail",inline:!0,size:"18"}),(0,I.jsx)(s.xu,{marginEnd:"auto",marginStart:"auto",children:(0,I.jsx)(s.xe,{align:"center",size:"200",weight:"bold",children:t._('Email a login link', 'unauth.loginForm.magicLinkLoginButton', 'Button for magic link login')})})]})})}function q({onTap:e}){(0,i.useEffect)(()=>{(0,o.Z)("PhoneNumberButton","/app/www/login/duplo/PhoneNumberButton.tsx")},[]);let t=(0,h.Z)(),{trackConversionUpsell:n}=(0,Z.Z)();return(0,I.jsx)(s.iP,{accessibilityHaspopup:!0,accessibilityLabel:"Phone number authentication button",onTap:()=>{n({eventType:14689,element:161}),(0,j.My)("mweb.phone_number_authentication.click"),e()},children:(0,I.jsxs)(s.xu,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",color:"default",display:"flex",height:36,marginBottom:2,padding:4,position:"relative",rounding:300,width:"100%",children:[(0,I.jsx)(s.JO,{accessibilityLabel:"Phone",color:"default",icon:"phone",inline:!0,size:"18"}),(0,I.jsx)(s.xu,{marginEnd:"auto",marginStart:"auto",children:(0,I.jsx)(s.xe,{align:"center",size:"200",weight:"bold",children:t._('Use phone number', 'unauth.mobileWeb.loginPage.phoneNumberButton', 'Button for phone number authentication')})})]})})}var V=n(70442),Q=n(363146),ee=n(956701),et=n(332930),en=n(810752),eo=n(413073);function ei({apple:e,container:t,fbConnectHandler:n,footer:A,from:E,google:S,phoneNumber:z,isBusiness:L,line:M,next:O="/",noImmediateRedirect:$,onLoginTouch:F,onSignupTouch:N,showAppInstallButton:U,showEmailButton:H,showTextDivider:G,viewParameter:W,app_upsell_type:K,attributionLabel:Y,disableGoogleSignup:el,redirectEmailButtonTouchToLogin:ea,isNavigationUpsellExperiment:es,buttonSize:er="lg",magicLink:ec,onMagicLinkTap:eu}){(0,i.useEffect)(()=>{(0,o.Z)("LoginButtons","/app/www/signup/LoginButtons.tsx")},[]);let ed=(0,a.s0)(),e_=(0,a.TH)(),{country:ep}=(0,y.B)(),eg=(0,h.Z)(),{showToast:eh}=(0,P.dI)(),em=(0,u.Z)(),eb=(0,k.Z)(),ex=(0,l.I0)(),ef=(0,T.f)(),ew=(0,eo.U)(),{checkExperiment:ey,flush:ev}=(0,w.Z)(),ej=(0,Q.m)(),ek=(0,c.Z)(),{isAuth:eZ,isLimitedLogin:eP}=(0,g.Z)(),[eC,eA]=(0,i.useState)(null),[eE,eS]=(0,i.useState)(!1),[ez,eL]=(0,i.useState)("default"),{trackConversionUpsell:eT}=(0,Z.Z)(),eI="facebook"===ez&&5e3||"google"===ez&&4e3||void 0,eM=v.ZP.getItem(r.m5),eB=ea&&(Y?.includes("navigation")||Y?.includes("save")||"floating-conversion-upsell"===Y);(0,i.useEffect)(()=>{ew&&((A||ea)&&ew.preload?.((0,en.ke)("login.js")),H&&ew.preload?.((0,en.ke)("signup.js")))},[]);let eO=eZ?{login_state:eP?b.Z.LIMITED:b.Z.DEFAULT}:Object.freeze({}),eR=e=>{em({view_type:10,view_parameter:W,element:e,event_type:102,aux_data:eO})},eD=e=>{eT({viewType:10,viewParameter:W,eventType:14689,element:e})},e$=(e,t)=>{let n,o;switch(t){case"facebook":n=3205,o=f.Z.FACEBOOK;break;case"google":n=3204,o=f.Z.GPLUS;break;case"line":n=3556,o=f.Z.LINE}return{event_type:e,view_type:10,view_parameter:n,element:o===f.Z.GPLUS?12981:void 0,aux_data:{...eO,signup_login_method:o,upsell_reason:Y}}},eF=e=>(o,i)=>{let l="google"===e?"gsi_btn":"other",a=e_.state,s={trigger:l,container:t,component:ei.name},r=a?.switch_account==="true"?{...s,isSwitchAccount:!0}:{...s,noImmediateRedirect:$};"facebook"===e&&(n?.("success"),(0,j.EX)({event:"receive_credential_response_from_provider",provider:e})),(0,j.NC)(e+"_login_success"),ef(o,ed,O,r,e$(7534,e)).catch(t=>{((e,t,n,o)=>{eA(null);let i=()=>eh(({hideToast:e})=>(0,I.jsx)(p.Z,{onHide:e,text:(0,_.Z)(t,"api_error_code")&&(0,_.Z)(t,"message")||eg._('Sorry, we can\'t log you in.', 'Error message when user having trouble login in.', 'Error message when user having trouble login in.')}));if(t){if((0,j.My)(`unauth_mweb.login_error.api_error_code.${String((0,_.Z)(t,"api_error_code"))}`),[m.xN,m.lg,m.Pv].includes((0,_.Z)(t,"api_error_code")??-1)){if(el&&"google"===n.type){(0,j.My)("unauth_mweb.account_recovery.google_account_already_not_linked"),eh(({hideToast:e})=>(0,I.jsx)(p.Z,{onHide:e,text:eg._('This Google account is not linked to Pinterest. Try another one', 'account_recovery.error.google_account_not_linked', 'Error toast when user tries to login with a Google account that is not linked to Pinterest'),type:"error"}));return}(0,j.Rp)({event:"start",provider:o}),(()=>{(0,j.My)("unauth_mweb.facebook_signup_attempt"),n.gender||(0,j.My)("unauth_mweb.facebook_signup_attempt.nogender");let{birthday:e}=n;if(void 0===e||!(0,d.Z)(e)){ev(),ed("/signup/thirdpartyage/",{state:{signupOptions:"facebook"===n.type?{...n,email_source_site:x.E_.FACEBOOK}:n,progressBarAnimationDuration:eI,attributionLabel:Y}});return}eA("signup"),eL(o);let t="facebook"===n.type?{...n,email_source_site:x.E_.FACEBOOK,birthday_source_site:x.E_.FACEBOOK,birthday:e}:{...n,birthday:e};(0,j.Rp)({event:"signup_api_call_start",provider:o}),ej(t,{signupAttemptContextEvent:e$(7537,o)}).then(()=>{(0,j.NC)("signup_via_login_buttons"),(0,j.Rp)({event:"signup_api_call_success",provider:o}),["facebook","google"].includes(o)&&ek(O||"/"),eA(null)},e=>{(0,j.Rp)({event:"signup_api_call_failure",provider:o});let t=(0,_.Z)(e,"api_error_code");"line"===n.type&&(t===m.iZ?ed("/signup/line-email-collect/",{state:{signupOptions:n,attributionLabel:Y}}):t===m.NF&&ed("/signup/thirdpartyage/",{state:{signupOptions:n,attributionLabel:Y}})),eh(({hideToast:n})=>(0,I.jsx)(p.Z,{onHide:n,text:t&&(0,_.Z)(e,"message")||eg._('Sorry! Something went wrong on our end.', 'Error logging on', 'Error logging on')})),eA(null)})})()}else m.ik.includes((0,_.Z)(t,"api_error_code")??0)&&eS(!0);i()}else(0,j.My)("unauth_mweb.login.unexpected_error"),i()})(0,t,i,e)}),eA("login"),eL(e)},eN=({event:e})=>{e.stopPropagation(),e.preventDefault(),F?.(),E&&ex((0,ee.rm)(E)),eb({action:"click",item:"login-button"}),eR(30),(0,j.My)(`unauth_mweb.login_buttons.footer.${A?.type||"button"}`),(0,j.NC)("press_login"),eT({eventType:14689,element:30,viewType:10,viewParameter:W}),eT({eventType:14688,component:14213,upsellReason:Y,incrementUpsellReasonCounter:!1}),ed(`${L?"/business/login/":"/login/"}${e_.search}`,{state:{next:O,attributionLabel:Y}})};return(0,I.jsxs)(s.xu,{"data-test-id":"LoginButtonsContainer",marginEnd:"auto",marginStart:"auto",marginTop:L?-5:0,maxWidth:el?502:400,children:[eE&&(0,I.jsx)(D.Z,{onDismiss:()=>eS(!1)}),G&&(0,I.jsx)(s.xu,{marginBottom:3,marginTop:3,children:(0,I.jsx)(s.xe,{align:"center",size:"100",weight:"bold",children:eg._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,I.jsx)(s.xu,{marginBottom:A?.type==="member_link"&&A.hideMemberLink?2:6,children:(0,I.jsxs)(i.Fragment,{children:[U&&(0,I.jsx)(et.Z,{app_upsell_type:K}),H&&!eM&&(0,I.jsx)(s.xu,{"data-test-id":"continue-email-button",marginBottom:L?-2:2,children:(0,I.jsx)(s.zx,{color:U?"secondary":"primary",fullWidth:!0,onClick:({event:e})=>{e&&(e.stopPropagation(),e.preventDefault()),(0,j.NC)("press_email_signup"),(0,j.Rp)({event:"start",provider:"email"}),eb({action:"click",item:"email-signup-button"}),N?.(),E&&ex((0,ee.rm)(E)),eD(13506),eR(31),eT({eventType:14688,component:14215,upsellReason:Y,incrementUpsellReasonCounter:!1}),ed(`${L?"/business/signup/step1/":ea?"/login/":"/signup/step1/"}${e_.search}`,{state:{next:O,attributionLabel:Y}})},size:er,text:L?eg._('Create account', 'Button text for creating a business account', 'Button text for creating a business account'):eg._('Continue with email', 'Sign up button', 'Sign up button')})}),z&&ey("mweb_unauth_phone_number_authentication_v0").anyEnabled&&(0,I.jsx)(q,{onTap:()=>{ed("/signup/step1/",{state:{next:O,attributionLabel:Y,isFromPhoneNumberButton:!0}})}}),S&&!eM&&(0,I.jsx)(s.xu,{"data-test-id":"google-connect-button",marginBottom:2,children:(0,I.jsx)(X,{onGoogleConnectSuccess:eF("google"),onTouch:()=>{eD(13504),el&&em({event_type:15392,component:15214,element:13504})}})}),ec&&(0,I.jsx)(s.xu,{"data-test-id":"magic-link-login-button",marginBottom:2,children:(0,I.jsx)(J,{onTap:()=>{eu?.()}})}),M&&"JP"===ep&&!eM&&(0,I.jsx)(s.xu,{"data-test-id":"line-connect-button",marginBottom:2,children:(0,I.jsx)(R,{onConnectError:()=>eh(({hideToast:e})=>(0,I.jsx)(p.Z,{onHide:e,text:eg._('Unable to connect to Line', 'Error logging on with Line', 'Error logging on with Line')})),onConnectSuccess:eF("line"),onTouch:()=>{eD(13507),eR(12277),eb({action:"click",item:"line-connect-button"})}})}),e&&(0,I.jsx)(s.xu,{"data-test-id":"apple-connect-button",marginBottom:2,children:(0,I.jsx)(B,{})})]})}),A&&!eM&&("member_link"===A.type?!eB&&!A.hideMemberLink&&(0,I.jsx)(s.xu,{"data-test-id":"login-member",marginTop:A.isUnauthHomepageOnMobile?10:-4,children:(0,I.jsx)(s.iP,{onTap:({event:e})=>eN({event:e}),tapStyle:"none",children:(0,I.jsx)(s.xu,{marginBottom:A.increasedSpaceBelow?-1:-2,paddingY:4*!A.noPadding,children:(0,I.jsx)(s.xe,{align:"center",color:A.textColorIsLight?"light":"default",size:"200",children:(0,I.jsxs)(i.Fragment,{children:[(0,I.jsxs)(s.xe,{color:A.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"normal",children:[eg._('Already a member?', 'Prompt for logging in', 'Prompt for logging in')," "]}),A.loginTextUnderline?(0,I.jsx)("span",{style:{textDecoration:"underline"},children:(0,I.jsx)(s.xe,{color:A.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"normal",children:eg._('Log in', 'login.link.text', 'Log in link text')})}):(0,I.jsx)(s.xe,{color:A.textColorIsLight?"light":"default",inline:!0,size:"200",weight:"bold",children:eg._('Log in', 'login.link.text', 'Log in link text')})]})})})})}):(0,I.jsx)(s.xu,{"data-test-id":"login-button",marginBottom:5,children:(0,I.jsx)(s.zx,{color:"transparent",fullWidth:!0,onClick:eN,text:eg._('Log in', 'Login page button', 'Login page button')})})),eC&&("signup"===eC?(0,I.jsx)(V.Z,{progressBarAnimationDuration:eI}):(0,I.jsx)(C.Z,{}))]})}},332930:function(e,t,n){n.d(t,{Z:()=>m});var o=n(686659),i=n(667294),l=n(312048),a=n(391995),s=n(15881),r=n(24246),c=n(138482),u=n(774838),d=n(418282),_=n(736328),p=n(481889),g=n(878243),h=n(785893);function m({app_upsell_type:e}){(0,i.useEffect)(()=>{(0,o.Z)("MobileSignupModalAppInstallButton","/app/www/signup/MobileSignupModalAppInstallButton.tsx")},[]);let t=(0,r.Z)(),n=(0,l.TH)(),{userAgent:{platform:m}}=(0,u.B)(),b=(0,_.Z)(),{trackConversionUpsell:x}=(0,p.Z)(),{pathname:f}=n,w=d.ZP.getItem(s.m5);return(0,h.jsx)(a.xu,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,h.jsx)(g.Z,{app_upsell_type:e??"unauth-signup-modal",componentType:13858,children:({handleOpenApp:o})=>(0,h.jsx)(a.zx,{color:"primary",fullWidth:!0,onClick:()=>{x({element:10308,eventType:14689}),b({action:"click",item:"handle-open-app-button",within:"homepage_top_module"===e?"homepage-top-section":"homepage-bottom-section"}),f&&o({deepLinkUri:"/"===f?"/":(0,c.Z)(n)&&("ios"===m||"ipad"===m)?"user"+f:f.substr(1)})},size:"lg",text:w?t._('Join Pinterest', 'unauth.modal.continue_to_pinterest.button_text', 'Button text for unauthenticated Android experience'):t._('Get Pinterest app', 'unauth.modal.get_app.button_text', 'App download button text')})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/88507-b8dbf5cdbfec52f6.mjs.map