(self.modernJsonp=self.modernJsonp||[]).push([["24168"],{17314:function(e,t,n){n.d(t,{Z:()=>d});var r,a,l=n(813653),i=n(831423),o=0,s=0;let d=function(e,t,n){var d=t&&n||0,c=t||Array(16),u=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==h){var f=e.random||(e.rng||l.Z)();null==u&&(u=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==h&&(h=a=(f[6]<<8|f[7])&16383)}var p=void 0!==e.msecs?e.msecs:Date.now(),_=void 0!==e.nsecs?e.nsecs:s+1,m=p-o+(_-s)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||p>o)&&void 0===e.nsecs&&(_=0),_>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");o=p,s=_,a=h;var g=((0xfffffff&(p+=122192928e5))*1e4+_)%0x100000000;c[d++]=g>>>24&255,c[d++]=g>>>16&255,c[d++]=g>>>8&255,c[d++]=255&g;var b=p/0x100000000*1e4&0xfffffff;c[d++]=b>>>8&255,c[d++]=255&b,c[d++]=b>>>24&15|16,c[d++]=b>>>16&255,c[d++]=h>>>8|128,c[d++]=255&h;for(var y=0;y<6;++y)c[d+y]=u[y];return t||(0,i.Z)(c)}},492774:function(e,t,n){var r,a,l,i;n.r(t),n.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},r,i,a,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};o.hash="160b60f499ce33660e2c11915eed4d09";let s=o},786897:function(e,t,n){var r,a,l,i;n.r(t),n.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:a=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:i=[l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:i,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},l,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};o.hash="3e837db15a9e9f5a0377c7ab62c7401e";let s=o},53713:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};r.hash="0e2c441822700a6145ea7cd142c0425b";let a=r},943751:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};r.hash="35b139c2e951baaa6624b30e45f913ce";let a=r},453217:function(e,t,n){var r;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};a.hash="cabaa35ed7d59dee006897bf3ef32e3d";let l=a},413044:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};r.hash="8d95294efe15498023c69669c6a41e71";let a=r},954881:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};r.hash="f459445ee8d1ea0db022e490ef5a2e80";let a=r},64219:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"PinRep_parentPin"}],type:"Pin",abstractKey:null};r.hash="cb2594cad81be6eec825977b7bcb2003";let a=r},268047:function(e,t,n){var r;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:r=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:r,storageKey:null}]},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};a.hash="4706485911e34fec99070a2a4c272d94";let l=a},128851:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_parentPin"}],type:"Pin",abstractKey:null};r.hash="970c9e8a0b93cdd43095e6934563c7eb";let a=r},748100:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="cf7ae619f5ec8cf58cf3302e69136b1d";let a=r},46354:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="bb4e0fc2e1a319a6b7c65cb9ad5c8cb6";let a=r},978917:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualSearchMasonryGrid_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="4998effb3bbd67a125c188d857131114";let a=r},97812:function(e,t,n){var r;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};a.hash="756d8d8edca35eac0a0500359bf60618";let l=a},433100:function(e,t,n){n.d(t,{f:()=>w,l:()=>x});var r=n(667294),a=n(178226),l=n(735243),i=n(477738),o=n(148),s=n(252974),d=n(250182),c=n(655068),u=n(531624),h=n(515511),f=n(213491),p=n(360033),_=n(986475),m=n(640200),g=n(785893);let b=(e,t,n)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===n);if(!r)return;let a=(0,_.Z)(m.Z,!0)(r),l=e.findIndex(({action:e})=>e?.filter?.productFilterType===n);e[l]?e[l]=a:e.push(a)},y=(e,t,n,r)=>{let a=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(a?.action?.filter){let e=a.action.filter.filterOptions;a.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[n]&&t.split(",").includes(String(e[n]))).map(e=>({...e,selected:!0})):[]}},{Provider:v,get:x}=(0,f.Z)("OneBarProductFilters");function w({children:e}){let[t,n]=(0,r.useState)([]),[f,_]=(0,r.useState)(null),m=function(){let{scope:e}=(0,o.n)();return[i.lw.BOARDS,i.lw.PINS_BUYABLE,i.lw.PINS_VIDEO,i.lw.USERS].includes(e)}(),x=(0,u.Z)(),w=(0,d.Z)(),E=(0,a.Z)(),S=(0,l.Z)(),P=(0,c.Z)(),I=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let a=e?.filter(({module_type:e})=>17===e||0===e);if(!a||a?.length===0||!r)return;let l=r!==f,i=l?[]:t;(l||!m)&&b(i,a,4),(l||!x)&&b(i,a,1),(l||!w)&&b(i,a,0),(l||!E)&&b(i,a,3),(l||!S)&&b(i,a,6),(l||!P)&&[7,8,9].forEach(e=>{b(i,a,e)}),(0,p.ZP)(i,t)||(n(i),_(r))},[t,E,S,m,w,P,x,f]),T=(0,s.Z)(),{priceMax:A,priceMin:C,scope:k,brands:R,onSale:O,colors:j,domains:Z}=(0,o.n)();(0,r.useEffect)(()=>{if(!T||0===t.length)return;let e=(0,h.Z)(t);if(k!==i.lw.PINS){let t=(0,i.gi)(k),n=e.find(({moduleType:e})=>0===e);n?.action?.filter&&(n.action.filter.appliedFilterOptions=[...n.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:n}=e;return{searchType:n,selected:n===t}}))}if("string"==typeof A||"string"==typeof C){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(C)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(A)}:null].filter(Boolean))}y(new Set([3]),R,"stringValue",e),y(new Set([6]),j,"stringValue",e),y(new Set([0]),Z,"stringValue",e),y(new Set([7,8,9]),O,"numericValue",e),(0,p.ZP)(e,t)||n(e)},[t,T,A,C,k,R,j,Z,O]);let F=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:I}),[t,I]);return(0,g.jsx)(v,{value:F,children:e})}},178226:function(e,t,n){n.d(t,{Z:()=>l});var r=n(312048),a=n(341687);function l(){return!!(0,a.Z)((0,r.TH)().search).brands}},735243:function(e,t,n){n.d(t,{Z:()=>i});var r=n(312048),a=n(501010),l=n(341687);function i(){let{checkExperiment:e}=(0,a.Z)(),t=(0,r.TH)(),{colors:n}=(0,l.Z)(t.search);return!!n&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,n){n.d(t,{Z:()=>a});var r=n(501010);function a(){let{checkExperiment:e}=(0,r.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,n){n.d(t,{Z:()=>l});var r=n(312048),a=n(341687);function l(){return!!(0,a.Z)((0,r.TH)().search).domains}},531624:function(e,t,n){n.d(t,{Z:()=>l});var r=n(312048),a=n(341687);function l(){let e=(0,r.TH)(),{price_max:t,price_min:n}=(0,a.Z)(e.search);return!!(n??t)}},185420:function(e,t,n){n.d(t,{M:()=>h,Z:()=>f});var r=n(686659),a=n(667294),l=n(312048),i=n(391995),o=n(104811),s=n(230201),d=n(400962),c=n(24246),u=n(785893);let h=60;function f({iconType:e,title:t,viewParameter:n,viewType:f}){(0,a.useEffect)(()=>{(0,r.Z)("Header","/app/common/react/components/VisualSearch/Header.tsx")},[]);let p=(0,c.Z)(),{previous:_}=(0,d.ou)(),m=(0,l.s0)(),{logContextEvent:g}=(0,s.u)();return(0,u.jsxs)(i.xu,{alignItems:"center",color:"default",display:"flex",justifyContent:"center",minHeight:h,position:"absolute",top:!0,width:"100%",children:[(0,u.jsx)(i.xu,{"data-test-id":"shop-cancel-button",left:!0,marginStart:5,position:"absolute",children:(0,u.jsx)(i.hU,{accessibilityLabel:p._('Back button', 'lens.history.back.button', 'Accessible icon for back button'),icon:e??"arrow-left",iconColor:"default",onClick:()=>{g({event_type:101,view_type:f,element:34,view_parameter:n}),0===_.length?m("/"):m(-1)}})}),(0,u.jsx)(o.Z,{title:t})]})}},798492:function(e,t,n){n.d(t,{Z:()=>l});var r=n(501010),a=n(739405);function l(){let e=(0,a.ml)(),{checkExperiment:t}=(0,r.Z)();return{inAffiliateDisclosureEnabled:e?t("mweb_closeup_affiliate_discloseures").anyEnabled:t("web_closeup_affiliate_discloseures").anyEnabled}}},513530:function(e,t,n){n.d(t,{Z:()=>T});var r,a=n(686659),l=n(667294);n(167912);var i=n(312048),o=n(391995),s=n(938545),d=n(364969),c=n(230201),u=n(183e3),h=n(24246),f=n(501010),p=n(426161),_=n(187197),m=n(922931),g=n(730448),b=n(37321),y=n(341687),v=n(893957),x=n(285676),w=n(645479),E=n(496516),S=n(157997),P=n(785893);let I=(void 0!==r||(r=n(978917)).hash&&"4998effb3bbd67a125c188d857131114"!==r.hash&&console.error("The definition of 'VisualSearchMasonryGrid_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function T({alignStart:e,auxData:t,isFilterOpened:n,isProductFeed:r,pinKey:T,searchId:A,viewParameter:C,viewType:k,visualSearchFlashlightUnifiedResource:R}){(0,l.useEffect)(()=>{(0,a.Z)("VisualSearchMasonryGrid","/app/common/react/components/shopping/RelatedProducts/UnifiedFeed/VisualSearchMasonryGrid.tsx")},[]);let O=(0,S.D)(),j=(0,u.Z)(I,T),Z=(0,h.Z)(),F=(0,i.TH)(),{logContextEvent:L}=(0,c.u)(),N=(0,l.useRef)(null),M=(0,l.useRef)(!1),{checkExperiment:B}=(0,f.Z)(),z=(0,E.Z)(B,"visual_search");(0,l.useEffect)(()=>{N.current?.handleResize()},[n]),(0,v.Z)(()=>{let e=(0,g.Z)(()=>{M.current||(L({event_type:110,view_type:k,view_parameter:C}),M.current=!0)},1e3);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)});let{data:D,isFetching:U,fetchMore:V,isAtEnd:H}=R,K=D?.results||[];return(0,P.jsxs)(o.xu,{"data-test-id":"visual-search-feed",children:[(0,P.jsx)(p.Z,{isAtEndOfFeed:H,itemCount:K.length,children:(0,P.jsx)(o.Rk,{ref:N,align:e?"start":"center",getColumnSpanConfig:e=>{let t="story"===e.type&&e.display_options?.num_columns_requested;return 0===t?1/0:t||1},items:K,loadItems:V,minCols:1,renderItem:function({data:e,itemIdx:n}){switch(e.type){case"pin":let a=(0,P.jsx)(x.r,{auxData:t,componentType:0,pinId:e.id,pinKey:{type:"Legacy",data:e},slotIndex:n,surface:r?"ShoppingDynamicHeightGrid":"SearchItem",viewData:{search_identifier:A},viewParameter:C,viewType:k});if(z)return(0,P.jsx)(w.Z,{headerHeightModifier:d.Or+s.Dj+s.qe,children:a});return a;case"story":let l;if(O&&"unified_entry_point_flashlight_header"===e.story_type)return null;if(j?.entityId){let t=(0,y.Z)(F.search),n=(0,y.Z)(e.action?.url).full_feed_title||"";t.full_feed_title=(0,_.Z)(n),t.entrypoint="feed_module";let r=(0,b.Z)(t);l=`/pin/${j.entityId}/visual-search/products/?${r}`}return(0,P.jsx)(m.default,{component:14339,dangerouslySetActionUrl:l,initialSlotIndex:n,showExpanded:!1,story:e,storyKey:{type:"Legacy",data:e},styleOverrides:{justifyContent:"start"},view:k,viewParameter:C});default:return null}},scrollContainer:()=>window})}),(0,P.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,P.jsx)(o.xH,{accessibilityLabel:Z._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:U})})]})}},531996:function(e,t,n){n.d(t,{Z:()=>c});var r=n(667294);function a(e){let{category_filters:t,domain_filters:n,price_filters:r}=e||{};return!!t||!!n||!!r}var l=n(933442),i=n(986475),o=n(661376),s=n(640200);let d=e=>"shop_the_look_module"===e||"stela_landing_page_category_filter"===e;function c({resourceOptions:e}){let[t,n]=(0,r.useState)(),[c,u]=(0,r.useState)(""),[h,f]=(0,r.useState)(),{cachedOneBarModules:p,setCachedOneBarModules:_,cachedDescriptorModules:m,setCachedDescriptorModules:g}=(0,l._)(),b=(0,o.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null),{auxData:y}=b,v=y?.metadata?.one_bar_modules,x=y?.metadata?.descriptors_one_bar_modules,{pin_id:w="",entrypoint:E,crop_source:S}=e||{},P=d(E)?p[w]:(0,i.Z)(s.Z,!0)(v),I=m?.[w]?m[w]:(0,i.Z)(s.Z,!0)(x),T=!Number.isNaN(S)&&5!==Number(S);return(0,r.useEffect)(()=>{v&&d(E)&&_(e=>{if(e[w])return e;let t=(0,i.Z)(s.Z,!0)(v);return{...e,[w]:t}})},[v,_,w,E]),(0,r.useEffect)(()=>{x&&g(()=>m[w]?m:{[w]:(0,i.Z)(s.Z,!0)(x)})},[x,w,g,m]),(0,r.useEffect)(()=>{let{data:e}=b,t=e?.search_identifier;t&&u(t),n(e)},[b]),(0,r.useEffect)(()=>{let{data:e}=b,n=e?.search_identifier,r=t?.search_identifier;e&&(!n||!r||n!==r)&&!a(t)&&a(e)&&f({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[h,t,b]),{descriptorModules:T?[]:I,filters:h,oneBarModules:P,searchId:c,setSearchId:u,visualSearchFlashlightUnifiedResource:b}}},933442:function(e,t,n){n.d(t,{_:()=>o,p:()=>s});var r=n(667294),a=n(213491),l=n(785893);let{Provider:i,get:o}=(0,a.Z)("VisualShopContext");function s({children:e}){let[t,n]=(0,r.useState)({}),[a,o]=(0,r.useState)({}),s=(0,r.useRef)(0),d=(0,r.useRef)("");return(0,l.jsx)(i,{value:{cachedOneBarModules:t,setCachedOneBarModules:n,cachedDescriptorModules:a,setCachedDescriptorModules:o,imageContainerScrollTop:s,imageContainerScrollTopForPinId:d},children:e})}},364969:function(e,t,n){n.d(t,{Or:()=>f,Sx:()=>h,ZP:()=>_});var r=n(686659),a=n(667294),l=n(391995),i=n(433100),o=n(185420),s=n(31863),d=n(148),c=n(9065),u=n(785893);let h=13,f=o.M+100+16,p=(0,c.Z)(()=>n.e("74090").then(n.bind(n,17667)),void 0,e=>17667,"app-common-react-components-OneBar-OneBar",e=>["74090"]);function _({imageUrl:e,initialUrl:t,oneBarModules:n,title:c,viewParameter:f,viewType:_}){return(0,a.useEffect)(()=>{(0,r.Z)("VisualShopHeader","/app/common/react/components/shopping/VisualShopLandingPage/VisualShopHeader.tsx")},[]),(0,u.jsx)(d.v,{children:(0,u.jsx)(i.f,{children:(0,u.jsx)(s.Z,{position:"sticky",shouldShowShadow:!0,children:(0,u.jsxs)(l.xu,{color:"default",direction:"column",display:"flex",children:[(0,u.jsx)(o.Z,{iconType:"close",viewParameter:f,viewType:_}),(0,u.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:o.M}},"data-test-id":"visual-shop-header",direction:"row",display:"flex",marginBottom:6,marginStart:h,children:[e&&(0,u.jsx)(l.zd,{height:100,rounding:200,wash:!0,width:100,children:(0,u.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e})}),(0,u.jsx)(l.xu,{marginStart:4,children:(0,u.jsx)(l.qd,{accessibilityLevel:1,size:"600",children:c})})]}),!!n&&(0,u.jsx)(l.xu,{marginStart:4,children:(0,u.jsx)(p,{hasProductFiltersApplied:!1,hrefOverride:t,oneBarModulesKey:null,oneBarModulesRest:n,viewParameter:f,viewType:_})})]})})})})}},724903:function(e,t,n){n.d(t,{Z:()=>r});function r({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}},667980:function(e,t,n){n.d(t,{N:()=>s,Z:()=>o});var r=n(686659),a=n(667294),l=n(391995),i=n(785893);function o({children:e,fullWidth:t,overrideDataTestId:n}){return(0,a.useEffect)(()=>{(0,r.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),(0,i.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":n||"pointer-events-wrapper",children:e})}function s({children:e,enabled:t}){return(0,a.useEffect)(()=>{(0,r.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),t?(0,i.jsx)(o,{children:e}):e}},465989:function(e,t,n){n.d(t,{$N:()=>c,Cu:()=>h,NR:()=>o,S9:()=>l,bC:()=>u,fm:()=>r,kM:()=>a,qp:()=>i,uV:()=>s,ug:()=>d});let r={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},a={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},l={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},i={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},o={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},s="604800",d="86400",c={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},u="click",h="view"},343669:function(e,t,n){n.d(t,{G6:()=>l,i7:()=>i,oi:()=>r,u$:()=>a,un:()=>s,vU:()=>o,w1:()=>d});let r=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?r.CHROME:e.includes("Safari")?r.SAFARI:e.includes("Firefox")?r.FIREFOX:e.includes("Opera")?r.OPERA:e.includes("IE")?r.IE:e.includes("Edge")?r.EDGE:r.OTHER:r.OTHER;function l(e){return a(e)===r.SAFARI}function i(e){return a(e)===r.CHROME}function o(e){return a(e)===r.FIREFOX}function s(e){return a(e)===r.EDGE}function d(e){return a(e)===r.IE}},505633:function(e,t,n){n.d(t,{Z:()=>l});var r=n(935833),a=n(755725);function l(e,t,n){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){let t=n?window.open(e,"_blank",n):window.open(e,"_blank");return t&&(t.opener=null),t}{let t=(0,a.Z)(e);return setTimeout(()=>{(0,r.My)("setting_new_window_location")},0),window.location.href=t,window}}},28031:function(e,t,n){n.d(t,{Z:()=>s});var r=n(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function l(){return window.innerWidth}function i(){return window.innerHeight}function o(){return null}function s(){let e=(0,r.useSyncExternalStore)(a,i,o),t=(0,r.useSyncExternalStore)(a,l,o);return null!==e&&null!==t?{height:e,width:t}:null}},758714:function(e,t,n){n.d(t,{DW:()=>l,I:()=>a,Rn:()=>o,e3:()=>c,fO:()=>h,oo:()=>r,rj:()=>f,rk:()=>d,t7:()=>s,zI:()=>i});let r=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,l=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,i=e=>{let t=e.replace("#",""),n=parseInt(t.substr(0,2),16);return(299*n+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},o=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:n,minSaturationClamp:a,mixVal:l=1,minBrightnessClamp:i=0})=>{let o=r(e);null===o&&(o=[229,229,224]);let s=((e,t,n)=>{let r=Math.max(e/=255,t/=255,n/=255),a=r-Math.min(e,t,n),l=0;return 0!==a&&(l=(r===e?(t-n)/a+6*(t<n):r===t?(n-e)/a+2:(e-t)/a+4)*60)<0&&(l+=360),{h:l,s:0===r?0:a/r,b:r}})(...o),d=(e,t,n)=>Math.max(t,Math.min(e,n));s.s=d(s.s*(1+t),a,1),s.b=d(s.b*(1+n),i,1);let c=(({h:e,s:t,b:n})=>{let r=n*t,a=r*(1-Math.abs(e/60%2-1)),l=n-r,i=0,o=0,s=0;return e<60?(i=r,o=a):e<120?(i=a,o=r):e<180?(o=r,s=a):e<240?(o=a,s=r):e<300?(i=a,s=r):(i=r,s=a),{r:Math.round((i+l)*255),g:Math.round((o+l)*255),b:Math.round((s+l)*255)}})({...s}),u=e=>({r:Math.round(c.r*l+e*(1-l)),g:Math.round(c.g*l+e*(1-l)),b:Math.round(c.b*l+e*(1-l))}),h=u(0),f=u(255);return[[h.r,h.g,h.b],[f.r,f.g,f.b]]};function s(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),n="rgba"===t.slice(0,4).toLowerCase(),r=!n&&"rgb"===t.slice(0,3).toLowerCase();if(!n&&!r)return{r:0,g:0,b:0,a:0};let a=t.indexOf("("),l=t.indexOf(")",a);if(-1===a||-1===l)return{r:0,g:0,b:0,a:0};let i=t.slice(a+1,l).split(",").map(e=>e.trim());if(n&&4!==i.length||r&&3!==i.length)return{r:0,g:0,b:0,a:0};let[o,s,d,c]=i,u=Number(o),h=Number(s),f=Number(d),p=n?Number(c):1;return[u,h,f].some(e=>Number.isNaN(e))||n&&Number.isNaN(p)?{r:0,g:0,b:0,a:0}:{r:u,g:h,b:f,a:p}}function d(e,t){let n=e.a+t.a*(1-e.a);return 0===n?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/n),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/n),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/n),a:n}}let c=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`,u=e=>e.toString(16).padStart(2,"0"),h=(e,t)=>{let n=r(e);if(!n)throw Error(`Invalid hex color: ${e} for lightenHexByPercentage`);let[a,l,i]=n,o=Math.max(0,Math.min(100,t))/100,s=Math.round(a+(255-a)*o),d=Math.round(l+(255-l)*o),c=Math.round(i+(255-i)*o);return`#${u(s)}${u(d)}${u(c)}`},f=(e,t)=>c(((e,t)=>{let n=r(e);if(!n)throw Error(`Invalid hex color: ${e} for hexToRgba`);let[a,l,i]=n;return{r:a,g:l,b:i,a:Math.max(0,Math.min(1,t))}})(e,t))},59355:function(e,t,n){n.d(t,{Q:()=>s,Z:()=>d});var r=n(667294),a=n(104999),l=n(746868),i=n(730056),o=n(774838);function s(e,t){let{setViewContextData:n}=(0,l.A$)(),{requestIdentifier:s}=(0,o.B)(),d=(0,a.Z)(),{viewData:c}=(0,l.SU)();(0,r.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,i.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:n}=e;return s(n),t||null}},247262:function(e,t,n){n.d(t,{Z:()=>r});function r(e){let t=Math.round(e/1e3),n=Math.floor(t/60),r=t%60;return n+":"+(r<10?"0":"")+r}},818244:function(e,t,n){n.d(t,{g:()=>i,t:()=>l});var r=n(667294);let a=(0,r.createContext)(null),l=a,i=()=>(0,r.use)(a)},315567:function(e,t,n){n.d(t,{Z:()=>r});let r=e=>{let[t,n]=[e?.width||580,e?.height||400],[r,a]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${n},left=${Math.round((r-t)/2)},top=${a>n?Math.round((a-n)/2):0}`}},150147:function(e,t,n){n.d(t,{Z:()=>I});var r=n(686659),a=n(667294),l=n(763387),i=n.n(l),o=n(391995);function s(e,t){return Math.max(0,((t<=0?0:Math.ceil(e/t))-1)*t)}function d(e,t,n){return n<=1?Math.max(0,Math.min(e,t-1)):Math.min(Math.max(0,Math.floor(e/n)*n),s(t,n))}var c=n(24246),u=n(785893);let h="12px";function f({containerRef:e,carouselClassName:t,currentIndex:n=0,itemCount:l,itemHeight:i,itemsPerPage:f,onIndexChange:p,showNavigationArrows:_=!1}){(0,a.useEffect)(()=>{(0,r.Z)("CarouselOverlay","/app/packages/gestaltExtensions/Carousel/CarouselOverlay.tsx")},[]);let m=(0,a.useRef)(null),g=(0,c.Z)(),[b,y]=(0,a.useState)(void 0),[v,x]=(0,a.useState)(0);(0,a.useLayoutEffect)(()=>{let n,r=!1,a=()=>{if(r)return;let l=e.current,i=l?.querySelector(`.${t}`),o=i?.querySelector("li"),s=o?.querySelector('[data-test-id="pinrep-image"]')||o?.querySelector("img");if(s&&l&&i){let e=s.getBoundingClientRect(),t=l.getBoundingClientRect();if(e.height>0){y(e.height),x(e.top-t.top),r=!0;return}}n=setTimeout(a,100)};return a(),()=>{r=!0,n&&clearTimeout(n)}},[e,t]);let w=b??i,E=w?`calc(${w}px / 2 - 18px)`:"calc(50% - 18px)",S=(0,a.useCallback)(()=>{if(f&&f>1){let e=Math.max(0,d(n,l,f)-f);p?.(e)}else{let e=Math.max(0,n-1);p?.(e)}},[n,l,f,p]),P=(0,a.useCallback)(()=>{if(f&&f>1){let e=d(n,l,f),t=Math.min(s(l,f),e+f);p?.(t)}else{let e=Math.min(l-1,n+1);p?.(e)}},[n,l,f,p]),{showPrevious:I,showNext:T}=(()=>{if(!_)return{showPrevious:!1,showNext:!1};if(f&&f>1){let e=d(n,l,f);return{showPrevious:e>0,showNext:e<s(l,f)}}return{showPrevious:n>0,showNext:n<l-1}})();return(0,u.jsxs)(o.xu,{ref:m,dangerouslySetInlineStyle:{__style:{height:w?`${w}px`:"100%",pointerEvents:"none",top:`${v}px`}},left:!0,position:"absolute",right:!0,zIndex:new o.Ry(100),children:[(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:h,pointerEvents:"auto",top:E}},opacity:100*!!I,position:"absolute",children:(0,u.jsx)(o.hU,{accessibilityLabel:g._('View Previous', 'CarouselOverlay.scrollButton.viewPrevious', 'Accessibility label for button to navigate to the previous item in the carousel'),bgColor:"default",dataTestId:"carousel-overlay-previous",icon:"chevron-left",onClick:S,size:"md"})}),(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",right:h,top:E}},opacity:100*!!T,position:"absolute",children:(0,u.jsx)(o.hU,{accessibilityLabel:g._('View Next', 'CarouselOverlay.scrollButton.viewNext', 'Accessibility label for button to navigate to the next item in the carousel'),bgColor:"default",dataTestId:"carousel-overlay-next",icon:"chevron-right",onClick:P,size:"md"})})]})}let p={bottom:"15px",boxShadow:"0 1px 0px rgba(0, 0, 0, 0.1)",left:0,position:"absolute",right:0};function _({index:e,isActive:t,mode:n,onClick:r,label:a}){return(0,u.jsx)(o.xu,{height:8,width:8,children:(0,u.jsx)(o.iP,{accessibilityLabel:a||`Navigate to slide ${e+1}`,onTap:()=>r(e),rounding:"circle",children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?"single"===n?"var(--sema-color-background-default)":"var(--sema-color-background-inverse)":"single"===n?"rgba(255, 255, 255, 0.6)":"var(--sema-color-background-secondary)",transition:"background-color 0.2s ease"}},height:8,rounding:"circle",width:8})})},e)}function m({currentIndex:e,itemCount:t,itemLabels:n,itemsPerPage:l,mode:i,onNavigateToIndex:s}){(0,a.useEffect)(()=>{(0,r.Z)("FallbackScrollMarkers","/app/packages/gestaltExtensions/Carousel/FallbackScrollMarkers.tsx")},[]);let c=l?d(e,t,l):e,h=(0,a.useCallback)(e=>{s(e)},[s]),f=l?Math.ceil(t/l):t,m=l?l<=1?Math.max(0,Math.min(c,t-1)):Math.floor(d(c,t,l)/l):c;return f<=1?null:(0,u.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{..."single"===i&&p}},"data-test-id":"scroll-markers-fallback",display:"flex",justifyContent:"center",zIndex:"single"===i?new o.Ry(100):void 0,children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"grid",gridAutoColumns:"1rem",gridAutoFlow:"column",placeItems:"center"}},width:"fit-content",children:[...Array(f).keys()].map(e=>{let t=l?e*l:e;return(0,u.jsx)(_,{index:t,isActive:e===m,label:n?.[t],mode:i,onClick:h},e)})})})}var g=n(774838);let b=function({mode:e,forceShowNavigationButtons:t,showNavigationButtons:n=!1,showScrollMarkers:r=!1}){let{userAgent:{browserName:a,browserVersion:l}}=(0,g.B)(),i="Chrome"===a&&Number(l.split(".")[0])>=135&&("undefined"==typeof window||void 0===window.Cypress);return"multi"===e?{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:n,enableFallbackScrollMarkers:r}:i&&void 0===t?{enableCssScrollButtons:n,enableCssScrollMarkers:r,enableFallbackScrollButtons:!1,enableFallbackScrollMarkers:!1}:{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:n,enableFallbackScrollMarkers:r}};var y=n(893957),v=n(767415);let x=e=>`
  --scroll-button-size: 36px;
  --scroll-button-offset: 1rem;

  &::scroll-button(*) {
    opacity: 0;
    pointer-events: auto;
    position: absolute;
    position-anchor: --${e};
    background-color: var(--sema-color-background-default);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    display: inline-block;
    margin-block-start: calc(var(--carousel-item-height) / 2 - var(--scroll-button-size) / 2);
    height: var(--scroll-button-size);
    line-height: 0;
    vertical-align: middle;
    width: var(--scroll-button-size);
    transition: opacity 50ms cubic-bezier(0, 0, 1, 1), transform 50ms cubic-bezier(0, 0, 1, 1);
  }

  /* Show scroll buttons when hovering on the parent <ul>. */
  &:hover::scroll-button(*) {
    opacity: 1;
    transition: opacity 100ms cubic-bezier(0, 0, 1, 1), transform 100ms cubic-bezier(0, 0, 1, 1);
  }

  &::scroll-button(inline-end) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0 0 24 24' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.7.3 20.42 12 8.71 23.7l-1.42-1.4L17.6 12 7.29 1.7z' /%3E%3C/svg%3E");
    right: anchor(--${e} right);
    margin-inline-end: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  &::scroll-button(inline-start) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0%200%2024%2024' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.41%2012%2010.3-10.3L15.29.3%203.6%2012l11.7%2011.7%201.42-1.4z'/%3E%3C/svg%3E");
    left: anchor(--${e} left);
    margin-inline-start: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  /* CSS specificity order matters: hover/focus → active → disabled (most specific last) */
  &::scroll-button(*):is(:hover, :focus-visible) {
    background-color: var(--sema-color-hover-background-default);
    opacity: 1;
  }

  &::scroll-button(*):active {
    background-color: var(--sema-color-pressed-background-default);
    transform: scale(0.90);
  }

  &::scroll-button(*):disabled {
    background-color: var(--sema-color-background-disabled);
    opacity: 0;
    cursor: not-allowed;
    interactivity: inert;
  }

`,w=(e,t="multi",n=1)=>{let r="multi"===t;return`
  scroll-marker-group: after;

  &::scroll-marker-group {
    display: grid;
    grid-auto-columns: 1rem;
    grid-auto-flow: column;
    height: 8px;
    justify-content: center;
    margin-block-start: ${r?"16px":"-1.25rem"};
    position-anchor: --${e};
    position-area: bottom;
    ${r?"position: fixed; align-items: center;":"scroll-snap-type: y mandatory;"}
    transition: all 150ms ease-out;
    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }
  }

  > li:nth-child(${n}n + 1)::scroll-marker {
    aspect-ratio: 1;
    border-radius: 50% ;
    background: ${r?"var(--sema-color-background-secondary)":"rgba(255, 255, 255, 0.6)"};
    content: ' ';
    width: 50%;
    box-shadow: ${r?"none":"0 1px 0px rgba(0, 0, 0, 0.1)"};
    animation-timeline: view(x);
    interactivity: auto;
    transition: all 150ms ease-out;
    place-self: center;
  }

  > li:nth-child(${n}n + 1)::scroll-marker:target-current {
    background: ${r?"var(--sema-color-background-inverse)":"var(--sema-color-background-default)"};
  }
`},E=function({cls:e,inset:t,isMobile:n=!1,itemsPerPage:r}){let a="none"===t,l=n?"0rem":"1rem";return`
  .${e} {
    --carousel-edge-padding: ${a?"0":n?"0.5rem":"1rem"};
    --carousel-gap: 0.5rem;
    --calculated-column-width: calc(
      (
        100cqw
        - var(--carousel-edge-padding)
        - (var(--carousel-gap) * (var(--carousel-item-count) + 1))
      ) / var(--carousel-item-count)
    );
    anchor-name: --${e};
    counter-reset: item;
    display: grid;
    gap: var(--carousel-gap);
    grid-auto-flow: column;
    grid-auto-columns: var(--calculated-column-width, var(--carousel-item-width, min-content));
    list-style-type: none;
    margin-block: 0rem;
    margin-inline: auto;
    overscroll-behavior-x: contain;
    overflow-y: hidden;
    overflow-x: auto;
    padding-block-start: ${a?"0":l};
    padding-block-end: ${a?"0":l};
    padding-inline: var(--carousel-edge-padding);
    scroll-padding-inline-start: var(--carousel-edge-padding);
    scroll-padding-inline-end: var(--carousel-edge-padding);
    scrollbar-width: none;

    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }

    >li {
      block-size: auto;
      overflow: visible;
      display: flex;
      flex-direction: column;
      container-type: scroll-state;
    }

    &.scroll-markers {
      ${a?`padding-block-end: ${l};`:""}
      ${w(e,"multi",r)}
    }

    &.scroll-buttons {
      ${x(e)}
    }
  } `};var S=n(59111),P=n(739405);function I({forceShowNavigationButtons:e,inset:t="default",itemHeight:n,items:l,itemWidth:s,mode:d,onIndexChange:c,accessibilityLabelledBy:h,renderItem:p,selectedIndex:_,showNavigationButtons:g,showScrollMarkers:I}){(0,a.useEffect)(()=>{(0,r.Z)("CSSCarousel","/app/packages/gestaltExtensions/Carousel/CSSCarousel.tsx")},[]);let{enableCssScrollMarkers:T,enableCssScrollButtons:A,enableFallbackScrollMarkers:C,enableFallbackScrollButtons:k}=b({mode:d,forceShowNavigationButtons:e,showScrollMarkers:I,showNavigationButtons:g}),[R,O]=(0,a.useState)(0),j=(0,a.useRef)(null),Z=(0,a.useRef)(null),F=(e=>{let[t,n]=(0,a.useState)(1),r=(0,a.useRef)(null);return(0,y.Z)(()=>{let t=null;if(e.current){let a=()=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{(()=>{let t=e.current;if(t){let e=t.offsetWidth,r=t.querySelector("li");if(r){let t=r.offsetWidth;if(t>0&&e>0){let r=Math.max(1,Math.floor((e-32+8)/(t+8)));n(e=>e!==r?r:e)}}}})(),r.current=null})};a(),(t=new ResizeObserver(a)).observe(e.current)}return()=>{r.current&&cancelAnimationFrame(r.current),t&&t.disconnect()}}),t})(j),L=(0,o.JZ)(),{isInteractive:N,onKeyboardFocus:M,onKeyboardBlur:B,onMouseOver:z,onMouseOut:D}=function(){let[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(!1),l=(0,a.useCallback)(e=>{e.target.matches(":focus-visible")&&t(!0)},[]);return{keyboardFocused:e,hovered:n,isInteractive:e||n,onKeyboardFocus:l,onKeyboardBlur:(0,a.useCallback)(()=>{t(!1)},[]),onMouseOver:(0,a.useCallback)(()=>{r(!0)},[]),onMouseOut:(0,a.useCallback)(()=>{r(!1)},[])}}(),{setNavigationIntent:U}=function({scrollerRef:e,itemsLength:t,itemsPerPage:n,mode:r,focusedIndex:l,setFocusedIndex:i,onIndexChange:o}){let s=(0,a.useRef)([]),d=(0,a.useRef)(null),c=(0,a.useRef)(!0),u=(0,a.useRef)(null),h=(0,a.useRef)(-1),f=(0,a.useRef)(0),p=(0,a.useRef)(0),_=(0,a.useRef)(null),m=(0,a.useCallback)(e=>{let{direction:t}=getComputedStyle(e),{scrollLeft:n,scrollWidth:r,clientWidth:a}=e;return"rtl"!==t?n:n<0?-n:r-a-n},[]),g=(0,a.useCallback)(()=>{let t=e.current;if(!t||!s.current.length)return;let a=u.current,d=t.children.length;if(c.current||!a||a.scrollWidth!==t.scrollWidth||a.clientWidth!==t.clientWidth||a.childrenCount!==d||s.current.length!==d){let e=Array.from(t.children);s.current=e.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:e.length},c.current=!1}let g=m(t),b=t.scrollWidth-t.clientWidth,y=g+t.clientWidth/2,x=s.current,w=0,E=1/0;x.forEach((e,t)=>{let n=Math.abs(e-y);n<E&&(E=n,w=t)});let S=w;if("multi"===r&&n>1){let e=Math.floor(w/n)*n,t=Math.max(0,Math.floor((x.length-1)/n)*n),r=Math.min(e,t),a=f.current;if(a!==r){let e=r>a?1:-1,t=(x[a+(e>0?n-1:0)]+x[r+(e>0?0:Math.min(n-1,x.length-r-1))])/2+e*(y>x[x.length-1]-24||y<x[0]+24?6:24),l=g-p.current;(!(e>0?y>=t:y<=t)||e>0&&l<-.5||e<0&&l>.5)&&(r=a)}(g/b>.98||b-g<=8)&&(r=t),f.current=S=r}let P=performance.now(),I=_.current,T=I&&P-I.timestamp<500;S===l||T||(h.current!==S&&((0,v.nP)("closeup.dweb.css_carousel.enabled.carousel_index_change",{sampleRate:1}),h.current=S),i(S),o?.({currentIndex:l,nextIndex:S})),I&&(S===I.targetIndex||P-I.timestamp>500)&&(_.current=null),p.current=g},[l,n,r,o,e,i,m]),b=(0,a.useCallback)(()=>{let e=performance.now(),t=_.current;t&&e-t.timestamp<500||(d.current&&cancelAnimationFrame(d.current),d.current=requestAnimationFrame(()=>{d.current=null,g()}))},[g]),y=(0,a.useCallback)(()=>{c.current=!0,b()},[b]);return(0,a.useLayoutEffect)(()=>{let t=e.current;if(!t)return;let n=Array.from(t.children);s.current=n.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:n.length},c.current=!1;let r="undefined"!=typeof ResizeObserver?new ResizeObserver(y):null,a=new MutationObserver(y);return r&&r.observe(t),a.observe(t,{childList:!0}),t.addEventListener("scroll",b,{passive:!0}),window.addEventListener("resize",y),()=>{t.removeEventListener("scroll",b),window.removeEventListener("resize",y),a.disconnect(),r&&r.disconnect(),d.current&&(cancelAnimationFrame(d.current),d.current=null)}},[b,y,e]),(0,a.useLayoutEffect)(()=>{c.current=!0,b()},[t,n,b]),{setNavigationIntent:(0,a.useCallback)(e=>{_.current={targetIndex:e,timestamp:performance.now()}},[])}}({scrollerRef:j,itemsLength:l.length,itemsPerPage:F,mode:d,focusedIndex:R,setFocusedIndex:O,onIndexChange:c}),V=(0,a.useCallback)(e=>{let t=j.current;if(!t)return;let n=Array.from(t.children),r=Math.max(0,Math.min(e,n.length-1)),a=n[r];if(a&&"number"==typeof a.offsetLeft){let e=parseInt(getComputedStyle(t).paddingInlineStart,10)||0;t.scrollTo({left:a.offsetLeft-e,behavior:L?"auto":"smooth"})}},[L]),H=(0,a.useCallback)(e=>{U(e),V(e),O(e),c?.({currentIndex:R,nextIndex:e})},[R,c,V,U]);(0,a.useLayoutEffect)(()=>{void 0!==_&&_!==R&&l.length&&H(_)},[_,R,H,l.length]);let K=(0,a.useCallback)(e=>()=>O(e),[]),G=(0,a.useCallback)(()=>O(-1),[]),W=(0,a.useRef)(new Map),$=(0,a.useCallback)(e=>(W.current.has(e)||W.current.set(e,K(e)),W.current.get(e)),[K]);(0,a.useLayoutEffect)(()=>{W.current.clear()},[l]);let Y=(0,P.ZP)(),q=!(0,P.ds)(Y),J="none"===t,X="single"===d,Q=`carousel--mode-${d}`,ee=X?`
  .${Q} {
    anchor-name: --${Q};
    container-type: inline-size scroll-state;
    counter-reset: item;
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 100%;
    height: 100%;
    list-style-type: none;
    overscroll-behavior-x: contain;
    overflow-x: auto;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (hover) {
      &:not(:hover,
      :focus-within)::scroll-button(*) {
        opacity: 0;
      }
    }

    > li {
      container-type: scroll-state;
      scroll-snap-align: center;
      scroll-snap-stop: always;
      width: 100%;
      height: 100%;
      overflow: hidden;

      & img {
        height: 100%;
        width: 100%;
      }
    }

    &.scroll-markers {
      ${w(Q,"single")}
    }

    &.scroll-buttons {
      ${x(Q)}
    }
  }
`:E({cls:Q,inset:t,isMobile:q,itemsPerPage:F}),et={...n&&{"--carousel-item-height":`${n}px`},...s&&{"--carousel-item-width":`${s}px`}},en=i()(Q,{"scroll-markers":T,"scroll-buttons":A});return(0,u.jsxs)(o.xu,{ref:Z,"aria-labelledby":h,as:"section",dangerouslySetInlineStyle:{__style:{containerType:"inline-size"}},height:"100%",onBlur:B,onFocus:M,onMouseOut:D,onMouseOver:z,position:"relative",width:"100%",children:[(0,u.jsx)(S.Z,{unsafeCSS:ee}),k&&(0,u.jsx)(f,{carouselClassName:Q,containerRef:Z,currentIndex:R,itemCount:l.length,itemHeight:n,itemsPerPage:F,onIndexChange:H,showNavigationArrows:e??N}),(0,u.jsx)("ul",{ref:j,className:en,style:et,children:l.map((e,t)=>(0,u.jsx)("li",{children:p({item:e,index:t,isFocused:R===t,onFocus:$(t),onUnfocus:G})},e?.id??e?.entityId??t))}),C&&(0,u.jsx)(o.xu,{marginBottom:J||"multi"!==d?void 0:4,marginTop:J?4:void 0,children:(0,u.jsx)(m,{currentIndex:R,itemCount:l.length,itemsPerPage:F,mode:d,onNavigateToIndex:H})})]})}},309947:function(e,t,n){n.d(t,{Z:()=>r});function r(e=!0){let t=e?16:void 0,n=t?Math.floor(t/4):void 0;return{experimentalColumnWidth:e?221:void 0,experimentalGutter:t,experimentalGutterBoints:n}}},712156:function(e,t,n){n.d(t,{Z:()=>a});var r=n(774838);let a=()=>{let e="default",{locale:t}=(0,r.B)();return(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none"}},806513:function(e,t,n){n.d(t,{$H:()=>o,$q:()=>v,$u:()=>a,Az:()=>u,Cw:()=>S,D6:()=>c,GZ:()=>E,Ke:()=>y,Lo:()=>l,P2:()=>m,TS:()=>w,Wv:()=>x,ZZ:()=>f,g5:()=>p,jC:()=>s,lX:()=>_,oX:()=>g,qG:()=>b,tG:()=>i,yF:()=>r,yc:()=>h,yt:()=>d});let r=236,a=270,l=157.33333333333334,i=175,o=24,s=4,d=8,c=2,u=8,h=2,f=14,p=16,_=16,m=24,g=16,b=-1,y=2,v=(e=!1,t=!1)=>e?t?_:12:m,x=({defaultItemWidth:e,contentVisibleItemCount:t,gap:n,moduleWidth:r})=>t||r?(r-((Math.ceil(t)+1)*n+8))/t:e,w=(e,t,n)=>{let a=n?3:2,l=t?5:a,o=t?r:i,s=t?g:d,c=o*l+s*l-(t||!t&&n?12:6);if(!e)return c;for(let t=l;t>=2;t-=1)if(e>c)break;else c=o*t+s*t;return c};function E(e){let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}}function S(e){return!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)}},507006:function(e,t,n){n.d(t,{Z:()=>l});var r=n(720459),a=n(774838);let l=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:l,shortformMaximumFractionDigits:i,formatStyle:o,uplimit:s,value:d})=>(0,r.Z)()((0,a.B)().locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:l,shortform_maximum_fraction_digits:i,style:o,uplimit:s})},995514:function(e,t,n){n.d(t,{Z:()=>i});var r=n(375181),a=n(24246),l=n(216975);function i(){let e=(0,a.Z)();return function(t,n){let a=new Date(t).getTime(),i=Date.now()-a,o=Math.floor(i/r.FS),s=Math.floor(i/r.UK),d=Math.floor(i/r.F4),c=Math.floor(i/r.VL),u=Math.floor(i/r.N9),h=Math.floor(i/r.N1),f=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', o, ' - ', ' -- '),p=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),_=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),g=e.ngettext('{{ months }} month ago', '{{ months }} months ago', u, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),b=e.ngettext('{{ years }} year ago', '{{ years }} years ago', h, ' - ', ' -- '),y=e.ngettext('{{ minutes }}m', '{{ minutes }}m', o, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),x=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),w=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),E=e.ngettext('{{ months }}mo', '{{ months }}mo', u, 'months ago abbreviated', 'months ago abbreviated'),S=e.ngettext('{{ years }}y', '{{ years }}y', h, 'years ago abbreviated', 'years ago abbreviated');return h>0?(0,l.nk)(n?S:b,{years:h}).join(""):u>0?(0,l.nk)(n?E:g,{months:u}).join(""):c>0?(0,l.nk)(n?w:m,{weeks:c}).join(""):d>0?(0,l.nk)(n?x:_,{days:d}).join(""):s>0?(0,l.nk)(n?v:p,{hours:s}).join(""):o>0?(0,l.nk)(n?y:f,{minutes:o}).join(""):e._('Just now', ' - ', ' -- ')}}},877904:function(e,t,n){n.d(t,{Z:()=>a});var r=n(767415);function a(e,t){return new Promise((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,(0,r.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)n();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,(0,r.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else n()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>n()),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}})}},566431:function(e,t,n){n.d(t,{Mt:()=>v,NK:()=>m,P6:()=>l,UE:()=>w,ZE:()=>p,Zt:()=>_,_J:()=>d,_S:()=>g,cL:()=>h,iR:()=>b,jL:()=>s,oN:()=>a,oU:()=>x,rM:()=>f,sV:()=>c,sY:()=>u,yp:()=>i});var r=n(764682);let a=5e3,l=5e3/r.gJ,i="Pin page",o=["Uploaded by user"],s=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,c=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,h=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!u(n)&&"pinstory"!==t,f=({link:e,mobileLink:t,trackedLink:n,utmLink:r})=>!t&&!r&&!n&&!e,p=e=>{if(!e)return!1;try{let{hostname:t}=new URL(e),n=t.toLowerCase();return"pin.it"===n||n.endsWith(".pin.it")}catch{return/\bpin\.it\b/i.test(e)}},_=({link:e,mobileLink:t,origImageUrl:n,trackedLink:r,utmLink:a})=>t||a||r||e||n||"",m=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function g(e){for(let t of o)if(e===t)return!1;return!0}function b(e){if(!e)return!1;let{id:t,videos:n}=e;if(t&&n?.id&&n.video_list){let{V_720P:e,V_HLSV4:t,V_HLSV3_MOBILE:r}=n.video_list;if(e&&y(e)||t&&y(t)||r&&y(r))return!0}let r=e.story_pin_data?.pages?.[0]?.blocks;if(r){for(let e of r)if("story_pin_video_block"===e.type&&e?.video)return!0}return!1}function y(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function v(e){return e?/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e)?.[1]??null:null}function x({isVideo:e,link:t}){return!!e&&!!t&&!!/(youtu(|.)be)/.exec(t)&&!!v(t)}let w=e=>"button"in e&&1===e.button},426161:function(e,t,n){n.d(t,{Z:()=>S});var r=n(686659),a=n(667294),l=n(501010),i=n(28692),o=n(774303),s=n(87980),d=n(679767),c=n(482070),u=n(484243),h=n(956712),f=n(547314),p=n(23641),_=n(479901),m=n(279794),g=n(767415);let b=(0,o.XV)("GridProfiler_v2");function y(e,t){switch(t.type){case"START":return{status:"LAYOUT",failedCount:0,numOfItemsChecked:0};case"LAYOUT_PROGRESS":if("LAYOUT"!==e.status)return e;return{...e,failedCount:e.failedCount+1,numOfItemsChecked:t.numOfItemsChecked};case"LAYOUT_COMPLETE":return{status:"TIMING",failedCount:0,pinElements:t.pinElements};case"TIMING_PROGRESS":if("TIMING"!==e.status)return e;return{...e,failedCount:e.failedCount+1};case"COMPLETE":case"ABORT":return{status:"DISABLED"};default:return e}}var v=n(617120),x=n(785893);function w(e){return(0,i.Z)(e),null}function E(e){return!function({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:r=!1,includeSections:l,isPlaceholderGrid:i,stopwatchSetVisuallyCompleteResult:v,stopwatchContext:x}){let w=(0,_.P9)(),[E,S]=(0,a.useReducer)(y,{status:"DISABLED"}),P=(0,a.useRef)(new Map),I=(0,a.useRef)(new Map),T=(0,a.useRef)(new Set),A=(0,a.useRef)(new Set),C=(0,a.useRef)(null),k=(0,a.useRef)(null),R=({imageTimings:e})=>{v?.({result:"COMPLETE"}),(0,h.cB)(e)};(0,a.useEffect)(()=>{P.current.clear(),I.current.clear(),T.current.clear(),A.current.clear(),S({type:"START"})},[w]);let O="TIMING"===E.status?E.pinElements:null;(0,a.useEffect)(()=>{if(b("new status",E.status),"LAYOUT"===E.status){let e=function(e,t){let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)}("scroll",()=>{(0,u.Z)("scrollDuringLayout")});return()=>{e()}}return"TIMING"===E.status&&O?(T.current=new Set(O.map(e=>e.fileName)),A.current=new Set(O.map(e=>e.element)),C.current=(0,d.Z)({type:"resource",buffered:!0},e=>{e.getEntries().forEach(e=>{let t=function(e){let t=e.lastIndexOf("/"),n=t>=0?e.slice(t+1):e,r=n.indexOf("?");return r>=0?n.slice(0,r):n}(e.name);T.current.has(t)&&e.responseEnd&&P.current.set(t,e)})}),window.PerformanceObserver?.supportedEntryTypes?.includes("element")&&(k.current=(0,d.Z)({type:"element",buffered:!0},e=>{e.getEntries().forEach(e=>{e.element&&A.current.has(e.element)&&e.renderTime&&I.current.set(e.element,e)})})),()=>{C.current?.disconnect(),C.current=null,k.current?.disconnect(),k.current=null}):()=>{}},[E.status,O]),(0,m.Z)(()=>{let a,d;if(i)return void b("bypassing PWT run due to skeleton pin grid");let u=(a=(0,_.Ly)(),d=()=>{},"unknown"!==a?d=p.rt:x?(a=`${x?.name}`,x?.addBinaryAnnotation&&(d=x?.addBinaryAnnotation)):(a="unknown",d=(e,t,n)=>{}),{surface:a,addBinaryAnnotation:d,abortTiming:e=>{(0,c.Z)(e),x?.abort(),v?.({result:"ABORT"})}});"LAYOUT"===E.status?S(function(e,t,n,r){let a=function(e,t){if(!t){let t=(0,s.LM)();if(t===e)return b("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,s.F9)())return b("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}}(e.numOfItemsChecked,t);return a.complete?{type:"LAYOUT_COMPLETE",pinElements:n}:500*e.failedCount>6e4?((0,f.El)({eventName:`images.${r.surface}.visuallyComplete.maxLayoutAttempt_v2`}),r.abortTiming("visuallyComplete_layoutTimeout"),{type:"ABORT"}):{type:"LAYOUT_PROGRESS",numOfItemsChecked:a.numOfItemsChecked}}(E,e,(0,s.cQ)(n,r,l),u)):"TIMING"===E.status&&S(function(e,t,n,r,a,l){let i=function(e,t,n,r){let a=[],l=0,i=0,s=0,d=1/0,c=0,u=0,h=0;return e.forEach(({element:e,fileName:f})=>{let p=n.get(e);if(p?.renderTime){u+=1,h=Math.max(h,p.renderTime);let n=t.get(f);n&&(a.push(n),"SEARCH_FEED_RENDER"===r&&(d=Math.min(d,n.requestStart),c=Math.max(c,n.responseEnd))),(0,o.v5)(e,"green");return}let _=t.get(f);_?_.responseEnd?(a.push(_),(0,o.v5)(e,"green"),"SEARCH_FEED_RENDER"===r&&(d=Math.min(d,_.requestStart),c=Math.max(c,_.responseEnd))):(s+=1,(0,o.v5)(e,"blue")):e instanceof HTMLImageElement&&e.complete?(i+=1,(0,o.v5)(e,"red")):(l+=1,(0,o.v5)(e,"greenyellow"))}),{imageTimings:a,incompleteCount:l,noTimingCount:i,noTimingResponseEndCount:s,earliestRequestStart:d,latestResponseEnd:c,elementTimingCount:u,latestRenderTime:h}}(e.pinElements,t,n,a.surface),{incompleteCount:s,noTimingResponseEndCount:d,noTimingCount:c}=i,u=e.pinElements.length;return s||d?100*e.failedCount>6e4?((0,f.El)({eventName:`images.${a.surface}.visuallyComplete.maxAttempt_v2`,tags:{totalImageCount:u,incompleteCount:s,noTimingCount:c,noTimingResponseEndCount:d}}),a.abortTiming("visuallyComplete_timingTimeout"),{type:"ABORT"}):{type:"TIMING_PROGRESS"}:(!function(e,t,n,r,a){let{imageTimings:l,noTimingCount:i,earliestRequestStart:o,latestResponseEnd:s,latestRenderTime:d}=e,c=t.length;if(b(`All ${l.length} images are fetched`),n&&n.length){let e=function(e,t){let n=0,r=0,a=0,l=0,i=0,o=e.filter(e=>"pin"===e.type);return t.forEach((e,t)=>{let s,d=e.fileName.split(".")[0];s=o[t],d!==s?.image_signature&&(s=o.find(e=>d===e?.image_signature)),void 0===s?i+=1:s.is_promoted||s.recommendation_reason?.reason==="PROMOTED_PIN"||s?.promoter?a+=1:null!==s.story_pin_data_id&&void 0!==s.story_pin_data_id?n+=1:s?.videos?.video_list?r+=1:l+=1}),{storyPinCount:n,videoCount:r,adCount:a,imageCount:l,unknownCount:i}}(n,t);if(Object.entries(e).forEach(([e,t])=>{r.addBinaryAnnotation(e,t,"I16"),(0,h.XJ)(e,t,"I16")}),(0,f.El)({eventName:`${r.surface}.pinTypes_v2`,tags:e}),"SEARCH_FEED_RENDER"===r.surface){let e=s-o;n[0]?.display_options?.num_columns_requested===0?(0,g.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,g.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}a({imageTimings:l}),(0,f.El)({eventName:`images.${r.surface}.visuallyComplete.complete_v2`,tags:{totalImageCount:c,noTimingCount:i}}),(0,f.$v)({eventName:`images.${r.surface}.visuallyComplete.timing_v2`,value:Math.round(s)}),(0,f.El)({eventName:`images.${r.surface}.visuallyCompleteRender.complete_v2`,tags:{elementTimingCount:e.elementTimingCount,latestRenderTime:Math.round(d)}}),(0,f.$v)({eventName:`images.${r.surface}.visuallyCompleteRender.timing_v2`,value:Math.round(d)})}(i,e.pinElements,r,a,l),{type:"COMPLETE"})}(E,P.current,I.current,t,u,R))},"LAYOUT"===E.status&&500||"TIMING"===E.status&&100||null)}(e),null}function S({children:e,isAtEndOfFeed:t,pinData:n,itemCount:i,includeBackgroundImages:o=!1,includeVideos:s=!1,includeSections:d=!1,isPlaceholderGrid:c,stopwatchSetVisuallyCompleteResult:h,stopwatchContext:f}){(0,a.useEffect)(()=>{(0,r.Z)("MasonryVisuallyCompleteProfiler","/app/packages/pwt-logger/grid/MasonryVisuallyCompleteProfiler.tsx")},[]);let{isAuthenticated:p}=(0,v.bC)();p||(d=!0);let m=(0,l.Z)().checkExperiment("web_pwt_grid_profiler_v2").anyEnabled,g={pinData:n,isAtEndOfFeed:t,includeBackgroundImages:o,includeVideos:s,includeSections:d,isPlaceholderGrid:c,stopwatchSetVisuallyCompleteResult:h,stopwatchContext:f},b=(0,a.useRef)(null),y=(0,_.P9)();return(0,a.useEffect)(()=>{i!==b.current&&(b.current=i,y&&(0,u.Z)("masonryPagination"))},[y,i]),(0,x.jsxs)(a.Fragment,{children:[m?(0,x.jsx)(E,{...g}):(0,x.jsx)(w,{...g}),e]})}},132781:function(e,t,n){n.d(t,{A:()=>o,Z:()=>s});var r=n(686659),a=n(667294),l=n(391995),i=n(785893);let o=({fill:e})=>{(0,a.useEffect)(()=>{(0,r.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]);let t="half"===e?(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(l.xu,{position:"absolute",children:(0,i.jsx)(l.JO,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half-fill",size:15})}),(0,i.jsx)(l.JO,{accessibilityLabel:"",color:"subtle",icon:"star-fill",size:15})]}):(0,i.jsx)(l.JO,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star-fill",size:15});return(0,i.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function s({max_rating:e,rating:t,display:n}){var s;if((0,a.useEffect)(()=>{(0,r.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]),!t)return null;let d=[],c=parseFloat(e||"5"),u=5*(s=(s=parseFloat(t)||0)<=c?s:c)/c;if(Number.isNaN(u))return null;let h=Math.floor(u),f=u-h;return[...Array(h).keys()].forEach(e=>d.push((0,i.jsx)(o,{fill:"full"},e))),f>=.75?d.push((0,i.jsx)(o,{fill:"full"},d.length)):f>=.25&&d.push((0,i.jsx)(o,{fill:"half"},d.length)),[...Array(5-d.length).keys()].forEach(()=>d.push((0,i.jsx)(o,{fill:"empty"},d.length))),(0,i.jsx)(l.xu,{"aria-label":`Rating ${String(u)} stars out of 5`,"data-test-id":"rating-stars",display:n?"flex":"inlineBlock",position:"relative",role:"img",width:18*c,children:d})}},619481:function(e,t,n){n.d(t,{Z:()=>c});var r=n(667294),a=n(581722),l=n(442279),i=n(501010),o=n(629972),s=n(487038);let d=(e,t,n)=>e.resources[t]?.[n];function c(e){let{name:t,optionsKey:n}=e,c=t===o.fY,u=(0,s.MA)(),h=u?.get(t,n);if(h)throw h;let f=(0,l.createSelector)(e=>d(e,t,n),e=>e?.data),p=(0,l.createSelector)(e=>d(e,t,n),e=>e?.auxData),_=(0,l.createSelector)(e=>d(e,t,n),e=>e?.error),m=(0,l.createSelector)(e=>d(e,t,n),e=>e?.nextBookmark),g=e=>e[t]?.[n],b=(0,i.Z)().checkExperiment("www_resources_reselect").anyEnabled,y=(0,a.v9)(b?m:({resources:e})=>g(e)?.nextBookmark),v=(0,a.v9)(b?f:({resources:e})=>g(e)?.data),x=(0,a.v9)(b?p:({resources:e})=>g(e)?.auxData),w=(0,a.v9)(b?_:({resources:e})=>g(e)?.error),E=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(c)return E.current;let S={auxData:x,data:v,error:w,isAtEnd:y===o.qx,nextBookmark:y};return(S.auxData!==E.current.auxData||S.data!==E.current.data||S.error!==E.current.error||S.isAtEnd!==E.current.isAtEnd||S.nextBookmark!==E.current.nextBookmark)&&(E.current=S),E.current}},890678:function(e,t,n){n.d(t,{Z:()=>l});var r=n(629972),a=n(957547);function l(e){let{enabledRouteRefresh:t,headers:n,name:l,noCache:i,options:o,schema:s}=e??{name:r.fY,options:null},d=!e,{fetchResource:c,ref:u,fetchMore:h,isFetching:f,isLoaded:p,isRefreshing:_,refresh:m}=(0,a.Z)({enabledRouteRefresh:t,headers:n,name:l,noCache:i,options:o,schema:s},d,!1);return d||c(),{ref:u,fetchMore:h,isFetching:f,isLoaded:p,isRefreshing:_,refresh:m}}},825605:function(e,t,n){n.d(t,{Z:()=>r});let r=n(317109).Z},233550:function(e,t,n){n.d(t,{l:()=>l,r:()=>i});var r=n(667294);let a=(0,r.createContext)(null),l=()=>(0,r.use)(a),i=a},923298:function(e,t,n){n.d(t,{Z:()=>l});var r=n(818244),a=n(233550);let l=()=>{let e=(0,r.g)(),t=(0,a.l)();return n=>{let{mobileOptions:r,desktopOptions:a,reason:l,attributionLabel:i,pinId:o,savePinImageUrl:s}=n;e?e.showDesktopSignupModal({signupFlow:a?.modalType==="login"?{type:"login"}:{type:"signup"},reason:l,attributionLabel:i,savePinId:o,savePinImageUrl:s,...a?.modalOptions}):t&&t.showMobileSignupModal({reason:l,attributionLabel:i,headingType:r?.headingType??"none",pinId:o,savePinImageUrl:s})}}},187197:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}},336320:function(e,t,n){n.d(t,{Z:()=>r});function r(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}},680589:function(e,t,n){n.d(t,{ZP:()=>a,mP:()=>r});let r="…";function a(e,t=80,n=r,l=!1){let i;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||l)i=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);i=e.substring(0,n)}return(i=i.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},141483:function(e,t,n){n.d(t,{Z:()=>o,h:()=>i});var r=n(172045),a=n(17314);function l(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),o=class{constructor(e){l(this,"start",()=>(this.startTime=i(),this.startTime)),l(this,"end",()=>(this.endTime=i(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,r.Z)()}catch(e){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},327638:function(e,t,n){n.d(t,{Z:()=>o});var r=n(686659),a=n(667294),l=n(391995),i=n(785893);function o(){return(0,a.useEffect)(()=>{(0,r.Z)("A11yPause","/app/packages/ui/A11yPause.tsx")},[]),(0,i.jsx)(l.xu,{display:"visuallyHidden",children:", "})}},380938:function(e,t,n){n.d(t,{Z:()=>o});var r=n(686659),a=n(667294),l=n(391995),i=n(785893);function o({ariaHidden:e=!1,color:t,size:n}){return(0,a.useEffect)(()=>{(0,r.Z)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,i.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,i.jsx)(l.xe,{color:t,inline:!0,size:n??"200",children:"·"})})}},127051:function(e,t,n){n.d(t,{Z:()=>a});var r=n(629724);let a=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,r.Z)(t[1])}return(0,r.Z)()}},49629:function(e,t,n){n.d(t,{Z:()=>a});var r=n(755725);let a=({url:e})=>{let t=(0,r.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},764682:function(e,t,n){n.d(t,{$f:()=>a,Cy:()=>s,DR:()=>r,Fm:()=>o,bR:()=>i,gJ:()=>l,lG:()=>d});let r=1,a=2,l=1e3,i=1e3,o=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},473156:function(e,t,n){n.d(t,{Z:()=>r});function r(e){let t;switch(e){case 1:t=1;break;case 2:t=2;break;case 3:t=3;break;case 4:t=4;break;case 5:t=5;break;case 6:t=6;break;case 9:t=9}return t}},190914:function(e,t,n){n.d(t,{r:()=>g,W:()=>m});var r=n(667294),a=n(213491),l=n(935059),i=n(661376),o=n(739258),s=n(15881),d=n(418282),c=n(640200);let u=e=>{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=u(e[n]));return t},h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},f=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var p=n(785893);let{Provider:_,getMaybe:m}=(0,a.Z)("RoleBasedAccessControlContext"),g=({children:e})=>{let t=(0,l.Z)(),n=!!(t.isAuth&&t.isPartner),{state:a,actions:c,receiveProfiles:m}=(e=>{let[t,n]=(0,r.useReducer)(f,h),a=(({dispatch:e,isEnabled:t,state:n})=>{let{orbacVisibility:a,disableProfileChanger:l,headerVisible:i}=n,o=(0,r.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]);return{changeProfile:o,toggleORBACVisibility:(0,r.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:n??!a})},[t,e,a]),toggleDisableProfileChanger:(0,r.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:n??!l})},[t,e,l]),toggleHeaderVisibility:(0,r.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:n??!i})},[t,e,i])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:l,orbacVisibility:i}=t;return(0,r.useEffect)(()=>{let e=(0,d.Nl)().getItem(s.Zo)||!1;e&&n({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(()=>{let e=(0,d.Nl)().getItem(s.ig)||!1;e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(()=>{(0,d.Nl)().setItem(s.ig,i)},[i]),(0,r.useEffect)(()=>{(0,d.Nl)().setItem(s.Zo,l)},[l]),{state:t,actions:a,receiveProfiles:(0,r.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:((e,t)=>{let n=[];for(let r in e)r!==t&&n.push({id:r,...u(e[r])});let r=n.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),a=new Map;for(let e of r)a.set(e.id,e);return a})(e,t)})},[n])}})(n),{activeProfile:g,headerVisible:b,profiles:y}=a,v=(0,r.useMemo)(()=>y?Array.from(y.values()):[],[y]),x=(0,o.Z)(v),w=!!t.isAuth&&v.length>0&&x,E=t.isAuth?t.id:"",S=t.isAuth?t.username:"",{changeProfile:P,toggleORBACVisibility:I,toggleDisableProfileChanger:T,toggleHeaderVisibility:A}=c;(0,r.useEffect)(()=>{if(n){if("string"==typeof x)return void P(x);g||P(E)}},[x,E,n,P,g]),(0,r.useEffect)(()=>{n&&(w&&!b&&A(!0),!w&&b&&A(!1))},[A,w,n,b,y]);let{data:C}=(0,i.Z)(n?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),k=C?.profiles,R=(0,r.useMemo)(()=>t&&t.isAuth&&g===t.id?{id:t.id,permissions:["OWNER"],user:{username:S,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:g&&y?y.get(g):void 0,[g,y,t,S]);(0,r.useEffect)(()=>{k&&m(k,E)},[m,k,E]);let O=(0,r.useMemo)(()=>({profiles:v,headerVisible:b,activeProfile:R,changeProfile:P,toggleORBACVisibility:I,toggleDisableProfileChanger:T,toggleHeaderVisibility:A}),[v,b,R,P,I,T,A]);return(0,p.jsx)(_,{value:O,children:e})}},200619:function(e,t,n){n.d(t,{Z:()=>s});var r=n(667294),a=n(501010),l=n(190914),i=n(739258);let o=Object.freeze({}),s=()=>{let{checkExperiment:e}=(0,a.Z)(),t=(0,l.W)(),{activeProfile:n}=t||{},s=(0,i.Z)(t?.profiles||[]),{anyEnabled:d}=e("useorbacroutematcher_in_useorbacactingas");return(0,r.useMemo)(()=>d&&!s?o:n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:o,[d,s,n])}},739258:function(e,t,n){n.d(t,{Z:()=>o});var r=n(312048),a=n(935059),l=n(173874),i=n(228612);let o=e=>{let t=(0,r.TH)(),n=(0,a.Z)(),o=(0,i.S6)(),s=(0,r.bS)("/:username"),d=(0,r.bS)("/:username/*"),c=(s||d)?.params?.username,u=(0,r.bS)("/pin/:id"),h=(0,r.bS)("/pin/:id/*"),f=u||h,p=!!f?.params?.id&&o(f.params.id)?.pinner?.id;if((0,l.isSettingsPage)(t))return!1;if((0,l.isPinBuilderPage)(t)||(0,l.isStoryPinBuilderPage)(t))return!0;let _=[...e,...n.isAuth?[{user:{username:n.username},id:n.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:n}=e;return(!!t&&"username"in t&&!!t.username&&!!c||!!p&&!!n)&&(t.username===c||p===n)});return!!_&&_.id}},601871:function(e,t,n){n.d(t,{D3:()=>u,DX:()=>d,Fk:()=>r,KY:()=>h,Ms:()=>a,N1:()=>f,_P:()=>s,gJ:()=>l,lJ:()=>o,nl:()=>i,q6:()=>c});let r=(e,t)=>{let n=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(n=t.user.businessName),n},a=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},l=(e,t)=>{let n=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(n=t.user.imgUrl),n},i=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,n)=>n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:e.advertiser?.merchant_id,d=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),u=(e,t,n)=>!!(c(e,t,n)||e&&e.isAuth&&t===e.id),h=(e,t,n)=>u(e,t&&t.owner&&t.owner.id||"",n);function f(e,t,n){return u(e,t?t.id:"",n)}},338065:function(e,t,n){n.d(t,{Z:()=>A});var r,a=n(686659),l=n(667294);n(167912);var i=n(391995),o=n(104999),s=n(935059),d=n(183e3),c=n(24246),u=n(501010),h=n(923298),f=n(935833),p=n(736328),_=n(577356),m=n(473687),g=n(413211),b=n(739405),y=n(893957),v=n(229127),x=n(120100),w=n(157498),E=n(512324),S=n(529312),P=n(785893);let I=({children:e,pulsar:t,testId:n})=>t.show?(0,P.jsx)(i.xu,{"data-test-id":n,position:"relative",children:(0,P.jsxs)(i.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,P.jsx)(i.o3,{})})]})}):(0,P.jsx)(i.xu,{"data-test-id":n,children:e}),T=(void 0!==r||(r=n(453217)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==r.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function A({auxData:e,disabled:t,disableLog:n,followEventType:r,id:A,inline:C,invertColors:k,isFollowed:R,isIdeaPin:O,isLegoEnabled:j,isSecondaryButton:Z,isUserFollowButton:F,isUserMe:L,onFollow:N,onUnfollow:M,pinKey:B,shouldUseLegoColors:z,showPulsar:D,size:U,textType:V="FollowFollowing",unfollowEventType:H,viewParameter:K,viewType:G,clientTrackingParams:W}){let $;(0,l.useEffect)(()=>{(0,a.Z)("FollowButton","/app/www/FollowButton.tsx")},[]);let Y=(0,c.Z)(),q=(0,b.HG)(),{showToast:J}=(0,_.dI)(),X=(0,p.Z)(),Q=(0,o.Z)(),ee=(0,h.Z)(),{checkExperiment:et}=(0,u.Z)(),en=(0,x.Z)(),er=(0,s.Z)(),ea=er&&er.isAuth,{unauthFollowUserId:el,setUnauthFollowUserId:ei}=(0,S.A)(),eo=(0,w.mN)()(A),es=(0,m.Z)(),[ed,ec]=(0,l.useState)(R),eu=eo&&{imageMediumUrl:eo.image_medium_url,username:eo.username},eh=(0,d.Z)(T,B),ef=eh?.linkDomain,ep=eh?.nativeCreator,e_=eh?.originPinner,em=eh?.pinner;$=ep||(ef?ef.officialUser:e_||em);let eg=eu??$;(0,y.Z)(()=>{!q&&ea&&el&&A&&el===A&&N(A)});let eb=en({fn:()=>{if(ea)ed?(M(A),ec(!1),n||Q({event_type:H,view_type:G,view_parameter:K,object_id_str:A,aux_data:e,clientTrackingParams:W})):(N(A),ec(!0),F&&J(({hideToast:e})=>{let t=eg?.username?`/${eg.username}/`:"";return(0,P.jsx)(E.Z,{handleHide:e,href:t,imageUrl:eg?.imageMediumUrl||"",text:(0,P.jsx)(i.xe,{lineClamp:4,children:Y._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:A})}),n||Q({event_type:r,view_type:G,view_parameter:K,object_id_str:A,aux_data:e,clientTrackingParams:W}));else{if((0,f.NC)(ed?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:ed?"unfollow-button":"follow-button"}),et("migration_upsell_manager_redux").anyEnabled||et("migration_upsell_manager_redux_dweb").anyEnabled||et("migration_upsell_manager_redux_mweb").anyEnabled||et("migration_upsell_manager_redux_dweb_global").anyEnabled||et("migration_upsell_manager_redux_mweb_global").anyEnabled)if(q){let e=et("pcons_dweb_contextual_follow_modal").anyEnabled;es((0,g.b9)(!!O,e))}else{let e=et("pcons_mweb_contextual_follow_modal").anyEnabled;es((0,g.Jw)(!!O,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:O?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:q&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!q&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});q||ei(A??""),(0,f.NC)("clickthrough")}},modalHeader:(0,v.N4)({i18n:Y,toFollow:!ed})}),ey=!ed&&!!D,ev=()=>{if(L)return Y._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===V)return ed?Y._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):Y._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===V?Y._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):Y._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return ed?e:Y._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,P.jsx)(I,{pulsar:ey?{show:!0,onClick:eb}:{show:!1},testId:L||ed?"board-unfollow-button":"board-follow-button",children:(0,P.jsx)(i.zx,{accessibilityLabel:ev(),color:z||"AddRemove"===V||!j&&Z||k?"secondary":"primary",disabled:L||t,fullWidth:C,onClick:ey?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||Q({event_type:101,component:13672,element:11951,object_id_str:A,view_type:G,view_parameter:K,aux_data:e,clientTrackingParams:W}),eb()},selected:ed||!1,size:U,text:ev()})})}},550759:function(e,t,n){n.d(t,{Z:()=>s});var r=n(686659),a=n(667294),l=n(391995),i=n(24246),o=n(785893);let s=({isInModal:e})=>{(0,a.useEffect)(()=>{(0,r.Z)("FullPageSpinner","/app/www/FullPageSpinner.tsx")},[]);let t=(0,i.Z)();return(0,o.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),children:(0,o.jsx)(l.xH,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},277455:function(e,t,n){n.d(t,{C:()=>s,R:()=>o});var r=n(667294),a=n(213491),l=n(785893);let{Provider:i,get:o}=(0,a.Z)("MostRecentPin");function s({children:e}){let[t,n]=(0,r.useState)(),[a,o]=(0,r.useState)(),s=(0,r.useCallback)(e=>{o([e].concat((a?a.slice(0,10):[]).filter(t=>t!==e)))},[a]),d=(0,r.useMemo)(()=>({id:t,plpImageSignatures:a,setMostRecentPinId:n,setMostRecentPinImage:s}),[t,a,s]);return(0,l.jsx)(i,{value:d,children:e})}},716848:function(e,t,n){n.d(t,{H:()=>r,J:()=>a});let{Provider:r,getMaybe:a}=(0,n(213491).Z)("PinCreateDeleteContext")},285676:function(e,t,n){n.d(t,{r:()=>P,Z:()=>S});var r,a,l,i,o,s=n(686659),d=n(667294);n(167912);var c=n(2171),u=n(470205),h=n(707855),f=n(183e3),p=n(46542),_=n(914253),m=n(228612),g=n(785893);let b=(void 0!==r||(r=n(46354)).hash&&"bb4e0fc2e1a319a6b7c65cb9ad5c8cb6"!==r.hash&&console.error("The definition of 'UnifiedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),y=(void 0!==a||(a=n(748100)).hash&&"cf7ae619f5ec8cf58cf3302e69136b1d"!==a.hash&&console.error("The definition of 'UnifiedPinRepVariant_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),v=(void 0!==l||(l=n(128851)).hash&&"970c9e8a0b93cdd43095e6934563c7eb"!==l.hash&&console.error("The definition of 'UnifiedPinRepVariant_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),x=(void 0!==i||(i=n(268047)).hash&&"4706485911e34fec99070a2a4c272d94"!==i.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),w=(void 0!==o||(o=n(64219)).hash&&"cb2594cad81be6eec825977b7bcb2003"!==o.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),E=e=>{var t,n,r,a;let{pinId:l,pinKey:i,parentPinKey:o,hideContextMenu:s,hideSendButton:b,hideEditButton:y,...v}=e,E=i&&"GraphQL"===(0,h.o)(i),S=(0,f.Z)(x,i),P=(0,f.Z)(w,o),I=(0,m.S6)()(l),T=(0,_.gC)(),A=(t=!!E,S||t?S:I?{type:"Legacy",data:I}:null),C=(0,c.Z)(),k=(0,d.useMemo)(()=>I?{type:"Legacy",data:I}:null,[I]),R=S||E||!C?A:k;return R&&(0,g.jsx)(u.Z,{name:"DefaultPinRep",type:"critical",children:(0,g.jsx)(d.Suspense,{children:(0,g.jsx)(p.Z,{...v,boardKey:(n=!!E,r=S?.pinnedToBoard||S?.board||null,a=T(I?.pinned_to_board?.id||I?.board?.id||""),n?r??null:a?{type:"Legacy",data:a}:null),hideContextMenu:s,hideEditButton:y,hideSendButton:b,parentPinKey:P,pinKey:R})})})};function S({duploQueryRef:e,...t}){(0,d.useEffect)(()=>{(0,s.Z)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let n=(0,f.Z)(b,e);return(0,g.jsx)(E,{...t,parentPinKey:null,pinKey:n})}function P({pinKey:e,parentPinKey:t,...n}){(0,d.useEffect)(()=>{(0,s.Z)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let r=(0,f.Z)(y,e),a=(0,f.Z)(v,t);return(0,g.jsx)(E,{...n,parentPinKey:a,pinKey:r})}},798385:function(e,t,n){n.d(t,{Z:()=>a});var r=n(157498);function a(){let e=(0,r.dM)();return Object.keys(e).reduce((t,n)=>{let r=e[n];return t[r.username]=r,t},{})}},228612:function(e,t,n){n.d(t,{EQ:()=>s,JC:()=>o,S6:()=>d,_S:()=>c});var r=n(581722),a=n(213491),l=n(785893);let{Provider:i,get:o,getMaybe:s}=(0,a.Z)("Pins");function d(){let e=o();return t=>e[t]}function c({children:e}){let t=(0,r.v9)(({pins:e})=>e,r.wU);return(0,l.jsx)(i,{value:t,children:e})}},157498:function(e,t,n){n.d(t,{LO:()=>u,cm:()=>c,dM:()=>s,kY:()=>h,mN:()=>d});var r=n(581722),a=n(213491),l=n(935059),i=n(785893);let{Provider:o,get:s}=(0,a.Z)("Users");function d(){let e=s();return t=>e[t]}function c(){let e=s();return(t,n=!1)=>{let r=Object.keys(e).find(n=>e[n].username===t);if(r||!n)return e[r??""]}}function u(){let e=(0,l.Z)();return s()[e.isAuth?e.id:""]}function h({children:e}){let t=(0,r.v9)(({users:e})=>e,r.wU);return(0,i.jsx)(o,{value:t,children:e})}},645479:function(e,t,n){n.d(t,{Z:()=>d});var r=n(686659),a=n(667294),l=n(49254),i=n(310758),o=n(785893);let s=new Set(["pin-card-hover-overlay","pin-card-hover-overlay-open-legend-wrapper","pin-card-hover-overlay-gradient-full"]);function d({children:e,headerHeightModifier:t}){(0,a.useEffect)(()=>{(0,r.Z)("ScrollPinToTopToFeedOnTap","/app/www/ScrollPinToTopToFeedOnTap.tsx")},[]);let n=(0,l.t)();return(0,o.jsx)(i.Z,{dataTestId:"scroll-pin-to-top-to-feed-on-tap",onTouch:e=>{let{target:r}=e;if(r instanceof HTMLElement&&("IMG"===r.tagName||s.has(r.getAttribute("data-test-id")??""))){let e=r.getBoundingClientRect().top+window.scrollY-n-(t??0);window.scrollTo(window.scrollX,e)}},pressState:"none",children:e})}},488598:function(e,t,n){n.d(t,{Z:()=>f,j:()=>h});var r=n(686659),a=n(667294),l=n(391995),i=n(798492),o=n(712156),s=n(24246),d=n(216975),c=n(501010),u=n(785893);let h=[0,2,3];function f({hasAffiliateProducts:e,hasAffiliateLink:t,href:n,isPromoted:f,onNavigateSponsorClick:p,sponsorName:_,sponsorUsername:m,sponsorshipStatus:g,textWeight:b="bold",isGrid:y,affiliateDisclosure:v}){let x;(0,a.useEffect)(()=>{(0,r.Z)("SponsorshipText","/app/www/SponsorshipText/SponsorshipText.tsx")},[]);let w=(0,s.Z)(),{checkExperiment:E}=(0,c.Z)(),S=E("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,P=(0,o.Z)(),{inAffiliateDisclosureEnabled:I}=(0,i.Z)(),T=n||(m?`/${m}/`:null),A=T&&_?(0,u.jsx)(l.xv,{__dangerouslyOverrideLineHeight:P,size:"200",weight:b,children:(0,u.jsx)(l.rU,{dataTestId:"sponsorship-text-link",href:T,onClick:p,children:_})},_):void 0,C=S&&!f&&"Ad • "||"";return f?x=(0,d.nk)(w._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:A}):g||0===g?_&&!h.includes(g)?x=(0,d.nk)(w._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:A}):2!==g&&(x=w._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):!y&&(t||e)&&(x=I?v:w._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'),C=""),(0,u.jsxs)(l.xv,{__dangerouslyOverrideLineHeight:P,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[C,x]})}},529312:function(e,t,n){n.d(t,{A:()=>o,w:()=>s});var r=n(667294),a=n(213491),l=n(785893);let{Provider:i,get:o}=(0,a.Z)("Session");function s({children:e}){let[t,n]=(0,r.useState)(void 0),a=(0,r.useCallback)(()=>n(void 0),[]),o=(0,r.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a}),[t,a]);return(0,l.jsx)(i,{value:o,children:e})}},157997:function(e,t,n){n.d(t,{D:()=>d,h:()=>s});var r=n(686659),a=n(667294),l=n(501010),i=n(785893);let o=(0,a.createContext)(!1);function s({children:e}){(0,a.useEffect)(()=>{(0,r.Z)("LayoutRedesignContext","/app/www/VisualSearch/LayoutRedesignContext.tsx")},[]);let{checkExperiment:t}=(0,l.Z)(),{anyEnabled:n}=t("web_image_search_redesign");return(0,i.jsx)(o.Provider,{value:n,children:e})}function d(){return(0,a.use)(o)}},271138:function(e,t,n){n.d(t,{Z:()=>i});var r=n(667294),a=n(312048),l=n(767415);function i({entrypoint:e,isAuthenticated:t,platform:n="web"}){let i=(0,a.TH)();(0,r.useEffect)(()=>{(0,l.nP)(`visual_search.entrypoint.${e??"undefined"}`,{tags:{auth:t?"auth":"unauth",platform:n}})},[e,t,n,i.search])}},143677:function(e,t,n){n.d(t,{Z:()=>j});var r,a=n(686659),l=n(667294);n(167912);var i=n(391995),o=n(104999),s=n(351736),d=n(935059),c=n(183e3),u=n(24246),h=n(995514),f=n(720459),p=n(216975),_=n(774838),m=n(935833),g=n(327638),b=n(380938),y=n(739405),v=n(507731),x=n(319226),w=n(914253),E=n(785893);function S({boardId:e}){(0,l.useEffect)(()=>{(0,a.Z)("CollaboratorsAvatars","/app/www/board/CollaboratorsAvatars.tsx")},[]);let t=(0,d.Z)(),n=(0,y.HG)(),r=(0,w.gC)()(e),o=function(e){let t=(0,d.Z)(),n=(0,y.HG)()&&t&&t.isAuth,r=(0,w.gC)()(e);return(0,l.useMemo)(()=>{if(!r)return[];let{owner:e,collaborating_users:a}=r,[l,i,o]=[new Set,new Set,new Set];for(let n of[...e?[e]:[],...a||[]])n.id===e?.id?l.add(n):n.id===(t.isAuth?t.id:void 0)?i.add(n):o.add(n);return[...l,...i,...o].map(e=>({name:(n?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[n,r,t])}(e);if(!r)return null;let{collaborator_count:s=0}=r,c=n&&t&&t.isAuth?23:16,u=c/3*((o.length>2?3:o.length)*2+1),h=s>=o.length?s-o.length:0,f=[...o,...Array(h=h>99?100:h).fill({name:"",src:""})];return(0,E.jsxs)(i.xu,{height:c,marginStart:2,minWidth:u,width:u,children:[(0,E.jsx)(g.Z,{}),(0,E.jsx)(x.HE,{collaborators:f})]})}var P=n(464094),I=n(748261),T=n(338065),A=n(69841),C=n(798385),k=n(305375);let R=(void 0!==r||(r=n(492774)).hash&&"160b60f499ce33660e2c11915eed4d09"!==r.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),O=({children:e,isOwnProfile:t,lineClamp:n})=>(0,y.HG)()?(0,E.jsx)(i.qd,{accessibilityLevel:2,lineClamp:t?1:n,size:t?"400":"300",children:e}):(0,E.jsx)(i.xv,{lineClamp:t?1:n,size:t?void 0:"200",weight:"bold",children:e});function j({auxData:e,archivedDate:t,boardId:n,boardUrl:r,canEdit:x,numberOfCollaborators:w,containerBackgroundColor:j,coverPhoto:Z,display:F,followButtonDisabled:L=!1,followedByMe:N,fullSizeDrawer:M,sensitivityScreen:B,handleInviteResponse:z,hideMeta:D,hideSecretBoardIcon:U=!1,id:V,invite:H,imagesLego:K=[],isActive:G,isAttributionHeightUnfixed:W,isAuthenticated:$,isBoardInviteAccepted:Y,isCollaborative:q,isCollaborator:J,isCollaboratorsAttributionVisible:X=!1,isFeaturedBoardsModule:Q=!1,isHomePageBoards:ee,isOwner:et,isProtected:en,isSecret:er,lastModifiedDate:ea,layout:el,lineClamp:ei=2,locale:eo,metaMarginTop:es=0,metaMarginBottom:ed=0,metaPaddingY:ec=2,name:eu,numCols:eh,onEditClick:ef,onFollow:ep,onUnfollow:e_,pinCount:em=0,sectionCount:eg,slotIndex:eb,showFollowButton:ey,showBoardCollaborators:ev=!0,showTitleOnly:ex,trackingParams:ew,boardKey:eE,viewObjectIdStr:eS,viewParameter:eP,viewType:eI}){(0,l.useEffect)(()=>{(0,a.Z)("BoardCard","/app/www/board/BoardCard.tsx")},[]);let eT=(0,s.vs)(),eA=(0,u.Z)(),eC=(0,h.Z)(),ek=(0,f.Z)(),eR=(0,o.Z)(),eO=(0,y.HG)(),{isRTL:ej}=(0,_.B)(),eZ=(0,d.Z)(),{username:eF}=(0,k.Z)(),eL=(0,C.Z)(),eN=eL[eF??""]?.is_gco_account,eM=(0,c.Z)(R,eE),{featuredBoardMetadata:eB}=eM||{},{curator:ez,isSponsoredContent:eD}=eB||{},eU=Q&&eD,eV=eO&&$,eH="square"===el?P.M0:P.z9,eK="responsive"!==F&&(eV||Q)?eH:"100%",eG=eZ.isAuth&&eZ.username===eF,eW=e=>{$||(0,m.NC)("press_follow_board"),ep&&ep(e)},e$=e=>{$||(0,m.NC)("press_unfollow_board"),e_&&e_(e)},eY=K.map(e=>({url:e.url,name:eu})),eq=!!eM?.owner&&!x&&ey,eJ=eM?.owner?.isVerifiedMerchant,eX=eM?.owner?.verifiedIdentity?.verified,eQ=q&&!Q;eG||(eQ&&=!!eF&&!eN);let e0=!et&&!J&&!!B?.show_warning,e1={board_id:V,reason:B?.reason},e2=!eG&&!ex&&(!eF||X||eN),e5=eV?void 0:P.s0+(eq?P.o2:0);eG||(e5=eO?void 0:(e2?P.AC:P.Y_)+(eq?P.o2:0));let e6=eq&&"responsive"!==F?`max(calc(25vh + 10px), calc(210px + ${5*!eG}vh))`:"100%";return(0,l.useEffect)(()=>{e0&&eR({event_type:13,component:13861,view_type:215,aux_data:e1})},[]),(0,E.jsx)(A.fS,{auxData:{board_id:V,board_pin_count:em??0,board_section_count:eg??0,grid_index:eb||0,...e},impressionData:{imageURL:Z?.url},loggingId:V,slotIndex:eb||0,trackingParams:ew,viewData:{view_object_id_str:eS},viewParameter:eP,viewType:eI,children:({impressionTrackerRef:e})=>(0,E.jsxs)(i.xu,{ref:e,"data-test-id":`boardCard-${eu}`,height:t&&!eO?"100%":e6,position:"relative",width:eK,children:[(0,E.jsx)(i.zd,{rounding:400,children:(0,E.jsx)(I.Z,{boardKey:eM,canEdit:x,containerBackgroundColor:j,coverPhoto:Z,coverPinKey:eM?.coverPin,fullSize:M,hideSecretBoardIcon:U,images:eY,isActive:G,isHomePageBoards:ee,isProtected:en,isSecret:er,layout:el,onEditClick:ef,renderAsImage:!0,showSensitivityScreen:e0})}),!D&&(0,E.jsx)(l.Fragment,{children:H?(0,E.jsxs)(l.Fragment,{children:[(0,E.jsxs)(i.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,E.jsxs)(i.xu,{width:"100%",children:[(0,E.jsx)(i.rU,{href:r??"",children:(0,E.jsx)(i.xu,{marginBottom:1,marginTop:0,children:(0,E.jsx)(O,{isOwnProfile:eG,lineClamp:ei,children:eu})})}),Y?(0,E.jsx)(i.xv,{lineClamp:1,size:"200",children:eA._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,E.jsx)(i.xv,{size:"200",children:function(e,t){let{full_name:n,username:r}=e,a=(0,E.jsx)(i.rU,{display:"inlineBlock",href:`/${r}`,underline:"hover",children:n},"linkToUser");return(0,p.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:a})}(H.invited_by_user,eA)})]}),ev&&(0,E.jsx)(S,{boardId:n})]}),Y?(0,E.jsx)(i.xu,{direction:"row",display:"flex",paddingX:2,children:(0,E.jsx)(i.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,E.jsx)(i.ZP,{fullWidth:!0,href:r??"",size:"lg",text:eA._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,E.jsxs)(i.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,E.jsx)(i.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,E.jsx)(i.zx,{fullWidth:!0,onClick:()=>{z?.(!1)},size:"lg",text:eA._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,E.jsx)(i.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,E.jsx)(i.zx,{color:"primary",fullWidth:!0,onClick:()=>{z?.(!0)},size:"lg",text:eA._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,E.jsxs)(i.xu,{height:W?void 0:e5,marginBottom:ed,marginTop:es,paddingX:2,paddingY:ec,children:[(0,E.jsxs)(i.xu,{alignItems:eG?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,E.jsx)(O,{isOwnProfile:eG,lineClamp:ei,children:eu}),eQ&&ev&&(0,E.jsx)(S,{boardId:n})]}),e2&&(0,E.jsx)(i.xu,{marginTop:1,children:eU?(0,E.jsx)(v.Z,{numberOfCollaborators:0,ownerFullName:ez?.fullName??"",ownerIsVerifiedIdentity:!!ez?.verifiedIdentity?.verified,ownerIsVerifiedMerchant:!!ez?.isVerifiedMerchant,showBoardCollaborators:!1}):(0,E.jsx)(v.Z,{numberOfCollaborators:w,ownerFullName:eM?.owner?.fullName??"",ownerIsVerifiedIdentity:!!eX,ownerIsVerifiedMerchant:!!eJ,showBoardCollaborators:ev})}),!ex&&(0,E.jsxs)(i.xu,{alignItems:eO?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,E.jsx)(i.kC.Item,{flex:"none",children:(0,E.jsxs)(i.xv,{color:eG?void 0:"subtle",lineClamp:1,size:"100",children:[(0,E.jsx)(g.Z,{}),(0,p.nk)(eA.ngettext('{{ count }} Pin', '{{ count }} Pins', em, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:ek(eo,em,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!eg&&(0,E.jsxs)(i.xv,{color:eG?void 0:"subtle",lineClamp:1,size:"100",children:[(0,E.jsx)(b.Z,{ariaHidden:!0,size:"100"}),(0,E.jsx)(g.Z,{}),(0,p.nk)(eA.ngettext('{{ count }} section', '{{ count }} sections', eg, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:eg})]}),!eG&&(0,E.jsx)(i.xv,{color:"subtle",size:"100",children:(0,E.jsx)(b.Z,{ariaHidden:!0,size:"100"})}),(0,E.jsx)(i.kC.Item,{flex:eg?"none":"grow",children:(0,E.jsx)(i.xu,{display:"flex",marginEnd:2*!!ej,marginStart:eG?2:void 0,children:(0,E.jsxs)(i.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,E.jsx)(g.Z,{}),eC(ea,!0)]})})})]}),t&&!eO&&(0,E.jsxs)(i.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,E.jsx)(g.Z,{}),eA._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),eq&&(0,E.jsx)(i.xu,{column:2===eh?12:void 0,flex:"none",marginTop:2===eh?3:void 0,children:(0,E.jsx)(T.Z,{disabled:!!eM?.owner?.blockedByMe||L,followEventType:26,id:V,isFollowed:N,onFollow:eW,onUnfollow:e$,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:eP,viewType:eI})})]})}),eD&&(0,E.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:eT?"rgba(51,51,46,0.8)":"rgba(229,229,224,0.8)",pointerEvents:"none"}},left:!0,margin:2,paddingX:1.5,paddingY:1,position:"absolute",rounding:200,top:!0,children:(0,E.jsx)(i.xe,{size:"100",children:eA._('Sponsored', 'board.Headers.BoardHeader.BoardHeaderDetails.sponsored', 'Badge to tell the viewer for board with set sponsor user')})})]})})}},662911:function(e,t,n){n.r(t),n.d(t,{default:()=>S});var r,a=n(686659),l=n(667294),i=n(581722);n(167912);var o=n(391995),s=n(104999),d=n(935059),c=n(183e3),u=n(774838),h=n(935833),f=n(736328),p=n(739405),_=n(143677),m=n(422913),g=n(214451),b=n(701572),y=n(914253),v=n(785893);let x=(void 0!==r||(r=n(786897)).hash&&"3e837db15a9e9f5a0377c7ab62c7401e"!==r.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),w=["thumbnail","imageOnly"],E=({isUsingMask:e,setIsHovered:t,children:n})=>{let r=(0,p.HG)();return e&&r?(0,v.jsx)(o.xu,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:n}):(0,v.jsx)(l.Fragment,{children:n})};function S({auxData:e,boardKey:t,component:n,containerBackgroundColor:r,display:S="responsive",forwardedRef:P,fullSize:I,hideSecretBoardIcon:T=!1,isAttributionHeightUnfixed:A=!1,isCollaboratorsAttributionVisible:C=!1,isFeaturedBoardsModule:k=!1,isHomePageBoards:R,noPaddings:O=!1,showFollowButton:j=!0,isUsingMask:Z=!1,showPinCount:F=!0,slotIndex:L,type:N,viewObjectIdStr:M,viewParameter:B,viewType:z,trackInteractionObjectProp:D,isFromProfileGrid:U=!1,metaMarginTop:V=2,metaMarginBottom:H=0,metaPaddingY:K=0}){(0,l.useEffect)(()=>{(0,a.Z)("BoardRep","/app/www/board/BoardRep.tsx")},[]);let G=(0,d.Z)(),W=G&&G.isAuth,$=(0,i.I0)(),{locale:Y}=(0,u.B)(),q=(0,f.Z)(),J=(0,c.Z)(x,t),X=(0,y.gC)(),Q=J?.entityId?X(J.entityId):null,ee=(0,m.Z)(J),et=(0,s.Z)(),en=(0,p.HG)(),[er,ea]=(0,l.useState)(!1);if(!J)return null;let{collaboratingUsers:el,owner:ei,privacy:eo,shouldShowBoardCollaborators:es}=J,ed=G.isAuth?G.id:"",ec=ei?.entityId===ed,eu=[];el?.__typename==="UserCollaboratingUsersConnectionContainer"?eu=el.connection?.edges?.map(e=>e?.node?.entityId)??[]:Q?.collaborating_users&&(eu=Q.collaborating_users.map(e=>e.id));let eh=eu.includes(ed)||ec;if("secret"===eo&&!eh)return null;let ef=!W&&!(U&&J.hasCustomCover)&&!!J.images236x?.[0]?.url,ep="grid"===N||"thumbnail"===N?2:4,e_=ef?J.images236x?.[0]?.url:ee(ep),em=J.coverPin??Q?.cover_pin,eg=(em?.crop&&em?.size&&{x:em?.crop[0]??0,y:em?.crop[1]??0,width:em?.size[0]??0,height:em?.size[0]??0})??{x:0,y:0,width:0,height:0},eb={isCustom:!ef&&(J.hasCustomCover||void 0),url:e_,position:eg},ey=J.pinThumbnailUrls??Q?.pin_thumbnail_urls,ev=(0,g.Jx)(J.images170x,ey?.filter(e=>null!==e)??void 0,e_).map(({url:e})=>({name:(0,g.po)(e),url:e})),ex=[44,49,4182,4214].includes(B)||[3,442,625].includes(z),ew=J?.sensitivityScreen?{reason:J.sensitivityScreen?.reason,showWarning:J.sensitivityScreen?.showWarning}:void 0,eE=J.pinCount??Q?.pin_count??0,eS=J.sectionCount??Q?.section_count??0,eP=(0,v.jsx)(_.Z,{archivedDate:J.archivedByMeAt??Q?.archived_by_me_at,auxData:e,boardId:J.entityId,boardKey:J,canEdit:!!J.boardAccess&&J.boardAccess.includes("write"),containerBackgroundColor:r,coverPhoto:eb,display:S,followedByMe:!!(Q?.followed_by_me??J.followedByMe),fullSizeDrawer:I,hideMeta:w.includes(N),hideSecretBoardIcon:T,id:J.entityId,imagesLego:ev,isActive:er,isAttributionHeightUnfixed:A,isAuthenticated:W,isCollaborative:!!J.isCollaborative,isCollaborator:!!eh,isCollaboratorsAttributionVisible:C,isFeaturedBoardsModule:k,isHomePageBoards:R,isOwner:ec,isProtected:"protected"===J.privacy||Q?.privacy==="protected",isSecret:"secret"===J.privacy||Q?.privacy==="secret",lastModifiedDate:J.boardOrderModifiedAt??Q?.board_order_modified_at??"",layout:en?"square":void 0,locale:Y,metaMarginBottom:H,metaMarginTop:V,metaPaddingY:K,name:J.name??(Q?.name||""),numberOfCollaborators:eu.length,numCols:ep,onFollow:e=>$((0,b.Z)(e,et)),onUnfollow:e=>$((0,b.f)(e,et)),pinCount:F&&eE?eE:void 0,sectionCount:eS??0,sensitivityScreen:ew,showBoardCollaborators:!1!==es,showFollowButton:j,showTitleOnly:"imageTitle"===N,slotIndex:L,viewerId:ed,viewObjectIdStr:M,viewParameter:B,viewType:z}),eI=J.url||Q?.url;return!w.includes(N)&&eI?(0,v.jsx)(o.Tg,{dataTestId:"board-rep-tap-area-link",href:W?eI:eI.toLowerCase(),onTap:()=>{if(ex&&et({aux_data:{board_id:J.entityId,board_pin_count:eE,board_section_count:eS,story_type:e?.story_type},component:n??1,element:36,event_type:102,view_parameter:49===B?ec?3106:3107:B,view_data:{view_object_id_str:M}}),!W){if((0,h.NC)("click_go_to_board"),D)return void q(D);q({action:"click",item:"board-card"})}},rounding:200,tapStyle:"compress",children:(0,v.jsx)(o.xu,{ref:P,paddingY:O?0:en?2:3,children:(0,v.jsx)(E,{isUsingMask:Z,setIsHovered:ea,children:eP})})}):eP}},507731:function(e,t,n){n.d(t,{Z:()=>h});var r=n(686659),a=n(667294),l=n(391995),i=n(785893);let o=({text:e})=>((0,a.useEffect)(()=>{(0,r.Z)("LineClampWrapper","/app/analytics/react/components/DataTable/LineClampWrapper.tsx")},[]),(0,i.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e}));var s=n(24246),d=n(720459),c=n(774838);let u={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function h({ownerFullName:e,ownerIsVerifiedMerchant:t,ownerIsVerifiedIdentity:n,numberOfCollaborators:h,size:f="xs",showBoardCollaborators:p=!0}){(0,a.useEffect)(()=>{(0,r.Z)("CollaboratorsAttribution","/app/www/board/CollaboratorsAttribution.tsx")},[]);let _=(0,s.Z)(),{locale:m}=(0,c.B)(),g=(0,d.Z)();return(0,i.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",maxHeight:u[f].height,children:[(0,i.jsx)(l.xe,{lineClamp:1,size:u[f].text,children:(0,i.jsx)(o,{text:e})}),(t||n)&&(0,i.jsx)(l.xu,{flex:"none",marginStart:1,children:t?(0,i.jsx)(l.JO,{accessibilityLabel:_._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"info",icon:"compact-circle-check",size:u[f].icon}):(0,i.jsx)(l.JO,{accessibilityLabel:_._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"compact-circle-check",size:u[f].icon})}),p&&h>0&&(0,i.jsx)(l.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,i.jsx)(l.xe,{size:u[f].text,children:"+ "+g(m,h,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},832333:function(e,t,n){n.d(t,{Z:()=>u});var r=n(686659),a=n(667294),l=n(391995),i=n(785893);function o(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:t,imgUrl:n}){let[r,l]=(0,a.useState)({height:0,loaded:!1,width:0}),{height:i,loaded:s,width:d}=r;if((0,a.useEffect)(()=>{let e=new Image;e.onload=()=>{l({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=n},[n]),!e||!t||!i||!d)return{loaded:s,position:"center center"};let c=d-t.width,u=i-t.height,h=c>0?o(t.x/c):"center",f=u>0?o(t.y/u):"center";return{loaded:s,position:`${h} ${f}`}}function d(e){let{loaded:t,position:n}=s(e),{imgUrl:r}=e,a={backgroundImage:`url(${r})`,backgroundPosition:n,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,i.jsx)(l.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,i.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:a},"data-test-id":"cover-image",children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function c(e){let{loaded:t,position:n}=s(e),{alt:r,color:a,imgUrl:o}=e;return(0,i.jsx)(l.zd,{height:"100%",width:"100%",children:t&&(0,i.jsx)("img",{alt:r||"",src:o,style:{backgroundColor:a||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:n,width:"100%"}})})}function u(e){(0,a.useEffect)(()=>{(0,r.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,i.jsx)(c,{...e}):(0,i.jsx)(d,{...e})}},748261:function(e,t,n){n.d(t,{Z:()=>S});var r,a,l=n(686659),i=n(667294);n(244311);var o=n(391995),s=n(183e3),d=n(24246),c=n(78835),u=n(501010),h=n(774838),f=n(739405),p=n(594502),_=n(464094),m=n(832333),g=n(785893);function b({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:r,size:a=20}){(0,i.useEffect)(()=>{(0,l.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,d.Z)();return(0,g.jsx)(o.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:a,justifyContent:"center",rounding:"circle",width:a,children:(0,g.jsx)(o.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===r?"lock":"shield",size:n??a/2})})}var y=n(227866),v=n(235623);let x=(void 0!==r||(r=n(53713)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==r.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),w=(void 0!==a||(a=n(943751)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==a.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),E="100%";function S(e){(0,i.useEffect)(()=>{(0,l.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,d.Z)(),{boardKey:n,canEdit:r,containerBackgroundColor:a="white",coverPhoto:S,coverPinKey:P,fullSize:I,hideSecretBoardIcon:T,images:A,isActive:C,isHomePageBoards:k,isProtected:R,isSecret:O,layout:j,onEditClick:Z,renderAsImage:F,showSensitivityScreen:L}=e,N=(0,f.HG)(),{isRTL:M,isAuthenticated:B}=(0,h.B)(),z=(0,s.Z)(x,n),D=(0,s.Z)(w,P),U=(0,i.useRef)(null),V=N&&B,{checkExperiment:H}=(0,u.Z)(),[K,G]=(0,i.useState)(!1);(0,i.useEffect)(()=>{C&&V&&z&&!O&&!K&&G(H("ce_dweb_board_preview_share_button").anyEnabled)},[C,V,z,O,K,H]);let W=(0,i.useRef)(void 0);(0,i.useEffect)(()=>{C?W.current&&(clearTimeout(W.current),W.current=void 0):W.current||(W.current=window.setTimeout(()=>{W.current=void 0,C||G(!1)},200))},[C]),(0,i.useEffect)(()=>()=>{W.current&&clearTimeout(W.current)},[]);let $=A[0],Y=!S&&A[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),q=[,,].fill(0),J=new o.Ry(1),X="square"===j?_.M0:_.z9,Q="square"===j?_.FP:_.FC,ee=$?.url?(0,g.jsx)(o.Ee,{alt:Y,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:$.url}):(0,g.jsx)(o.xu,{color:"secondary",height:"100%",width:"100%"}),et=L?{filter:"blur(20px)"}:{};return(0,g.jsxs)(o.zd,{height:I?"100%":void 0,rounding:400,width:"100%",children:[(0,g.jsxs)(o.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,g.jsx)(o.sg,{span:8,children:(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:et},height:I?"100%":void 0,position:"relative",children:(0,g.jsx)(o.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:E}},overflow:"hidden",width:"100%",children:(0,g.jsxs)(o.xu,{ref:U,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:k?"#FFDFE9":a,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(R||O)&&!T&&(0,g.jsx)(o.xu,{left:!M,margin:2,position:"absolute",right:M,top:!0,zIndex:J,children:(0,g.jsx)(b,{backgroundColor:"default",iconColor:"default",privacy:O?"secret":"protected",size:V?32:24})}),S?.url?(0,g.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(m.Z,{customCover:S.isCustom,height:Q,imgPos:D?function(e){let{crop:t,size:n}=e||{};if(Array.isArray(t)&&Array.isArray(n))return{x:t[0]||0,y:t[1]||0,width:n[0]||0,height:n[1]||0}}(D):S.position||{width:0,height:0,x:0,y:0},imgUrl:D?.imageUrl??(S.url||""),renderAsImage:F,width:Math.floor(X/3*2)})}):ee]})})})}),(0,g.jsx)(o.sg,{span:4,children:(0,g.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:et},height:"100%",children:[(r||K)&&(0,g.jsxs)(o.xu,{bottom:!0,display:K?"flex":void 0,left:M,margin:2,opacity:100*!!C,position:"absolute",right:!M,zIndex:J,children:[K&&(0,g.jsx)(o.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,g.jsx)(o.xu,{marginEnd:1,children:(0,g.jsx)(v.Z,{boardKey:z,handleCreatePincode:()=>{},iconColor:"default",size:"sm"})})}),r&&(0,g.jsx)(o.iP,{onTap:({event:e})=>Z?.(e),children:(0,g.jsx)(o.hU,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"default",icon:"pencil",iconColor:"default",size:"sm",tabIndex:-1})})]}),q.map((e,t)=>{let n=S?A[t]:A[t+1];return(0,g.jsx)(o.xu,{height:I?"50%":void 0,position:"relative",children:(0,g.jsx)(o.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:E}},overflow:"hidden",width:"100%",children:(0,g.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:k?"#FFDFE9":a,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:n?.url?(0,g.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(o.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url})}):(0,g.jsx)(o.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),L&&(0,g.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(o.qd,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,g.jsx)(p.Z,{visibility:C?"visible":"none",children:(0,g.jsx)(y.Z,{additionalStyles:{backgroundColor:c.Dv.LEGO_WASH}})})]})}},464094:function(e,t,n){n.d(t,{AC:()=>i,Bp:()=>f,Ex:()=>p,FC:()=>c,FP:()=>s,L$:()=>_,M0:()=>o,SA:()=>h,Xq:()=>u,Y_:()=>l,o2:()=>a,oC:()=>m,s0:()=>r,z9:()=>d});let r=44,a=40,l=49,i=69,o=236,s=157,d=320,c=213,u=7,h=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"],f=100,p={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1},_=8,m=5},422913:function(e,t,n){n.d(t,{Z:()=>o}),n(167912);var r,a=n(183e3),l=n(914253);let i=(void 0!==r||(r=n(97812)).hash&&"756d8d8edca35eac0a0500359bf60618"!==r.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),o=e=>{let t=(0,a.Z)(i,e),n=(0,l.gC)(),r=t?.entityId?n(t.entityId):null,o=t?.imageCoverUrl??r?.image_cover_url,s=t?.coverImageSpec_216x146??r?.cover_images?.spec_216x146,d=t?.coverImageSpec_222x??r?.cover_images?.spec_222x,c=t?.coverImageSpec_400x300??r?.cover_images?.spec_400x300;return e=>{let n=t?.imageCoverHdUrl||t?.imageCoverUrl;if(n)return n;let r=c?.url??d?.url??s?.url??"";return e&&e>2&&r?r:o||""}}},214451:function(e,t,n){n.d(t,{Bw:()=>o,Jx:()=>i,po:()=>r});let r=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),l=e=>{if(!e)return()=>!0;let t=r(e);return e=>"string"==typeof e?r(e)!==t:r(e.url??"")!==t},i=(e,t,n)=>e?e.filter(l(n)):t?t.filter(l(n)).map(a):[],o=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},113759:function(e,t,n){n.d(t,{bq:()=>d,x4:()=>c});var r=n(686659),a=n(667294),l=n(15392),i=n(785893);let o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:l.Gg,maxWidth:l.u6,descriptionPaneWidth:l.u6-l.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},s=(0,a.createContext)(o);function d({children:e,value:t}){(0,a.useEffect)(()=>{(0,r.Z)("Context","/app/www/closeup/desktop/Context.tsx")},[]);let n=(0,a.useMemo)(()=>({...o,...t}),[t]);return(0,i.jsx)(s,{value:n,children:e})}function c(){let e=(0,a.use)(s);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},15392:function(e,t,n){n.d(t,{$T:()=>_,CI:()=>i,Ch:()=>s,E$:()=>E,ER:()=>p,Gb:()=>d,Gg:()=>a,Hf:()=>b,Id:()=>x,Ie:()=>u,KP:()=>h,Kn:()=>o,O5:()=>m,d2:()=>c,dm:()=>w,fF:()=>v,g9:()=>f,iB:()=>y,rv:()=>g,u6:()=>l});var r=n(391995);let a=508,l=1016,i=488,o=992,s=672,d=1176,c=40,u=72,h=740,f=32,p=16,_=24,m=2,g=1,b=new r.Ry(5),y={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},v={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},x="calc(90vh - 80px)",w="calc(55vh + 80px)",E="calc(75vh - 80px)"},667389:function(e,t,n){n.d(t,{O:()=>u,Z:()=>h});var r=n(686659),a=n(667294),l=n(391995),i=n(24246),o=n(247387),s=n(785893);let d=(0,a.lazy)(()=>n.e("38647").then(n.bind(n,541583))),c={xs:12,sm:16,md:20,lg:24};function u({children:e}){(0,a.useEffect)(()=>{(0,r.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let t=(0,i.Z)();return(0,s.jsx)(l.u,{dataTestId:"verified-badge-tooltip",link:(0,s.jsx)(l.rU,{href:o.vBy,target:"blank",children:(0,s.jsx)(l.xe,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function h({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:n,showText:o,size:h,inspirationalBadges:f,inspirationalBadgesColor:p}){(0,a.useEffect)(()=>{(0,r.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let _=(0,i.Z)(),[m,g]=(0,a.useState)(!1);if(n){let n=(0,s.jsxs)(l.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,s.jsx)(l.iP,{onTap:()=>g(!0),children:(0,s.jsx)(l.JO,{accessibilityLabel:_._('Merchant verification badge', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"info",icon:"circle-check-fill",inline:!0,size:c[h]})}),o&&(0,s.jsx)(l.xu,{marginStart:2,children:(0,s.jsx)(l.xe,{color:"default",inline:!0,weight:"bold",children:_._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(a.Fragment,{children:[e?n:(0,s.jsx)(u,{children:n}),!t&&!e&&m&&(0,s.jsx)(a.Suspense,{children:(0,s.jsx)(d,{inspirationalBadges:f,inspirationalBadgesColor:p,setShowModal:g,showModal:m})})]})}return t&&!n?(0,s.jsx)(l.JO,{accessibilityLabel:_._('Domain verification', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"circle-check-fill",size:c[h]}):null}},148:function(e,t,n){n.d(t,{n:()=>h,v:()=>f});var r=n(667294),a=n(312048),l=n(213491),i=n(477738),o=n(739405),s=n(582610),d=n(305375),c=n(785893);let{Provider:u,get:h}=(0,l.Z)("SearchParams"),f=({children:e,value:t})=>{let n=function(){let e=(0,o.HG)(),{search:t,pathname:n}=(0,a.TH)(),{scope:r}=(0,d.Z)(),l=!r&&n.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:l?i.lw.SHOP_TOOL:r,search:t})}(),l=(0,r.useMemo)(()=>({...n,...t}),[n,t]);return(0,c.jsx)(u,{value:l,children:e})}},250704:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t){e&&e.includes("~0")&&(e=e.replace("~0",""));let n=t?.includes("~0")?t:`${t||""}~0`;return e&&e.replace("undefined","")?e:n.replace("undefined","")}},229127:function(e,t,n){n.d(t,{N4:()=>l,Wh:()=>r,hr:()=>a});let r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),l=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},120100:function(e,t,n){n.d(t,{Z:()=>o});var r=n(24246),a=n(739405),l=n(36776),i=n(229127);let o=()=>{let e=(0,r.Z)(),t=(0,a.HG)(),{viewer:n,loginForMore:o,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,l.m)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:r})=>a=>{let l=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?l=a:a.event&&(l=a.event)),l&&(l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()),o?.setVisible(!0),s?.setText(n||(t?(0,i.hr)(e):(0,i.Wh)(e))),r&&d?.setRoute(r)}:({fn:e})=>e}},582610:function(e,t,n){n.d(t,{Z:()=>l});var r=n(477738),a=n(341687);function l({isDesktop:e,scope:t,search:n}){let{auto_correction_disabled:l="",b_id:i,brands:o,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:h,domains:f,filters:p,guided_search_query:_,inline_suggestion:m,interest_id:g,journey_depth:b,on_sale:y,price_max:v,price_min:x,q:w,query_pin_sigs:E,quiz:S,request_params:P,rs:I,selected_one_bar_modules:T,source_id:A,source_module_id:C,tab:k,top_pin_ids:R,user:O}=(0,a.Z)(n),j="true"===c.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===l.toLowerCase(),brands:o,bubbleId:i,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:p,debD:h,domains:f,guidedSearchQuery:_,inlineSuggestion:m,interestId:g,journeyDepth:b?parseInt(b,10):void 0,onSale:y,personalizationPinSig:E,placementId:(0,r.Hd)(j,e),priceMax:v,priceMin:x,query:w,quiz:S,requestParams:P,rs:I,scope:j,selectedOneBarModules:T,sourceId:A,sourceModuleId:C,tab:k||"",topPinIds:R,user:O,viewParameter:(0,r._R)(j),viewType:j===r.lw.SHOP_TOOL?1:2}}},773382:function(e,t,n){n.d(t,{Z:()=>a});var r=n(233597);function a(e,t){return n=>n((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},701572:function(e,t,n){n.d(t,{Z:()=>l,f:()=>i});var r=n(47755),a=n(160587);function l(e,t){return async n=>{n((0,a.md)(e,!0));try{await (0,r.Z)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){n((0,a.md)(e,!1))}}}function i(e,t){return async n=>{n((0,a.md)(e,!1));try{await (0,r.Z)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){n((0,a.md)(e,!0))}}}},72034:function(e,t,n){function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function a(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function l(e){return{type:"PIN_SAVE",payload:e}}function i(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function o(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function d({id:e,text:t,nodeId:n}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:n}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function u({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function h(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function f(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}n.d(t,{Gb:()=>i,I1:()=>s,Ib:()=>c,JU:()=>h,Ur:()=>l,Vw:()=>o,au:()=>f,i0:()=>u,mO:()=>a,q1:()=>d,yR:()=>r})},148266:function(e,t,n){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function a(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,{ND:()=>d,Vp:()=>o,a1:()=>r,b6:()=>s,jg:()=>l,o4:()=>a,ti:()=>i})},826681:function(e,t,n){n.d(t,{Ge:()=>d,JS:()=>l,P_:()=>i,Q_:()=>h,b8:()=>f,cg:()=>o,h2:()=>c,h6:()=>u});var r=n(47755),a=n(748025);function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let i=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),s=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:n,blockContext:a,logContextEvent:l})=>async i=>{i(s(e,!0));let o=await (0,r.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"PUT",data:{orbac_subject_id:t,block_source:n,block_context:a}}).catch(()=>i(s(e,!1)));return l({event_type:54,object_id_str:e}),o},c=(e,t)=>async n=>{n(s(e,!1));let a=await (0,r.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"DELETE"}).catch(()=>n(s(e,!0)));return t({event_type:55,object_id_str:e}),a};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let h=(e,t)=>()=>(0,r.Z)({url:"/v3/users/state/{state}/",urlParams:{state:e},method:"PUT",data:{value:t}}),f=(e,t,n)=>(l,i)=>{(0,r.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{n({event_type:48,object_id_str:i().session.userId}),e(),(0,a.Z)()},t)}},395878:function(e,t,n){n.d(t,{Z:()=>_});var r,a=n(686659),l=n(667294);n(167912);var i=n(391995),o=n(943152),s=n(183e3),d=n(24246),c=n(36351),u=n(500602),h=n(785893);let f=(void 0!==r||(r=n(954881)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==r.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);class p extends l.Component{constructor(...e){var t,n,r;super(...e),n={flyoutOpen:!1},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?r:r+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}render(){let{board:e,bgColor:t="default",children:n,iconColor:r="subtle",onCreatePincode:a,showTooltip:o,size:s="lg"}=this.props,{flyoutOpen:d}=this.state,f={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},p=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},_=n&&n({active:d,onClick:()=>p()})||(0,h.jsx)(i.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:r,onClick:({event:e})=>p(e),selected:d,size:s,tooltip:o?{text:this.props.i18n._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,h.jsxs)(l.Fragment,{children:[(0,h.jsx)(i.xu,{ref:e=>{this.anchor=e},children:_}),this.state.flyoutOpen&&(0,h.jsx)(i.mh,{zIndex:u.m6,children:(0,h.jsx)(i.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>p(),positionRelativeToAnchor:!1,size:"flexible",children:(0,h.jsx)(c.Z,{component:13216,onCreatePincodeClick:a?()=>{p(),a()}:void 0,onHide:()=>p(),sendType:"board",sharedObject:f,viewType:5})})})]})}componentDidMount(){(0,a.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let _=e=>{(0,l.useEffect)(()=>{(0,a.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,d.Z)(),n=(0,o.Z)(),r=(0,s.Z)(f,e.boardKey);return(0,h.jsx)(p,{...e,board:r,i18n:t,requireAuth:n,sendBoardButtonRef:e.sendBoardButtonRef})}},235623:function(e,t,n){n.d(t,{Z:()=>g});var r,a=n(686659),l=n(667294);n(244311);var i=n(391995),o=n(230201),s=n(943152),d=n(647636),c=n(183e3),u=n(24246),h=n(774838),f=n(395878),p=n(554365),_=n(785893);let m=(void 0!==r||(r=n(413044)).hash&&"8d95294efe15498023c69669c6a41e71"!==r.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function g({boardKey:e,color:t,handleCreatePincode:n,iconColor:r,hasBoardToolStyles:g,hasShadow:b,showTooltip:y,size:v="lg"}){(0,l.useEffect)(()=>{(0,a.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:x}=(0,o.u)(),w=(0,u.Z)(),E=(0,s.Z)(),{userAgent:{platform:S}}=(0,h.B)(),P="android"===S,I=(0,l.useRef)(null),T=(0,c.Z)(m,e),[A,C]=(0,l.useState)(!1),k=A?void 0:t,R=A?{__style:{backgroundColor:"#e2e2e2"}}:void 0;return(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(f.Z,{boardKey:T,iconColor:r,onCreatePincode:n,onOpen:()=>{if(E)return void E();(0,p.Z)(x)},sendBoardButtonRef:I,showTooltip:y,size:v,children:g?({active:e,onClick:t})=>(0,_.jsx)(i.iP,{onTap:t,rounding:500,children:(0,_.jsxs)(i.xu,{alignItems:"center",color:e?"selected":k,dangerouslySetInlineStyle:R,display:"flex",elevation:b?"shadowFloating":void 0,height:64,justifyContent:"center",onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),paddingX:4,rounding:500,children:[(0,_.jsx)(i.xu,{marginEnd:2,children:(0,_.jsx)(i.JO,{accessibilityLabel:w._('Share', 'Board.ShareButton', 'Accessible label for button to share a board'),color:e?"light":"default",icon:P?"share-android":"share",size:20})}),(0,_.jsx)(i.xv,{color:e?"inverse":"default",children:w._('Share', 'Board.ShareButton', 'Label for button to share a board')})]})}):void 0}),(0,_.jsx)(d.N,{anchors:{3018:I.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},554365:function(e,t,n){n.d(t,{Z:()=>r});function r(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},512324:function(e,t,n){n.d(t,{Z:()=>h});var r=n(686659),a=n(667294),l=n(391995),i=n(924591),o=n(24246),s=n(661376),d=n(739405),c=n(785893);function u({ideaPinImages:e}){(0,a.useEffect)(()=>{(0,r.Z)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let t=e.map((e,t)=>(0,c.jsx)(l.xu,{borderColor:"decorative",borderWidth:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:200,width:28,children:e?.url&&(0,c.jsx)(l.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,c.jsx)(l.kC,{justifyContent:"center",children:(0,c.jsx)(l.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function h({handleHide:e,text:t,userId:n,href:h,imageUrl:f}){(0,a.useEffect)(()=>{(0,r.Z)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let p=(0,o.Z)(),_=(0,d.HG)(),m=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),g=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length)return(0,c.jsx)(i.Z,{duration:5e3,href:h,onHide:e,text:g,thumbnail:f?{image:(0,c.jsx)(l.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:f})}:void 0});let b=(m.data||[]).slice(0,3).map(e=>e.images?.[_?"236x":"170x"]),y=(0,c.jsx)(u,{ideaPinImages:b});return(0,c.jsx)(i.Z,{_dangerouslySetThumbnail:y,duration:5e3,href:h,onHide:e,text:g})}},496516:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t){let{group:n}=e("dweb_scroll_pin_to_top_on_tap");return"enabled_all"===n||"employees"===n||n===`enabled_${t}`}},794074:function(e,t,n){n.d(t,{Z:()=>a});var r=n(501010);function a(){return(0,r.Z)().checkExperiment("web_react_router_v6").anyEnabled}},305375:function(e,t,n){n.d(t,{Z:()=>o});var r=n(667294),a=n(616550),l=n(312048),i=n(794074);function o(){let e=(0,r.useRef)(null);return null===e.current&&(e.current=(0,i.Z)()),(e.current?l.UO:a.UO)()}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/24168-5f6bb2c20ab6080a.mjs.map